<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Airbridge SDK Integration Guide</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 20px;
    }

    .chat-container {
      width: 100%;
      max-width: 520px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
      margin: 20px auto;
    }

    .chat-header {
      background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
      color: white;
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .chat-header-icon {
      width: 40px;
      height: 40px;
      background: rgba(255,255,255,0.2);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }

    .chat-header-text h1 {
      font-size: 16px;
      font-weight: 600;
    }

    .chat-header-text p {
      font-size: 12px;
      opacity: 0.8;
      margin-top: 2px;
    }

    .progress-bar {
      background: #f1f5f9;
      padding: 12px 16px;
      border-bottom: 1px solid #e2e8f0;
    }

    .progress-steps {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 11px;
      color: #64748b;
      margin-bottom: 8px;
    }

    .progress-steps span {
      padding: 4px 8px;
      border-radius: 12px;
      background: #e2e8f0;
      transition: all 0.3s;
    }

    .progress-steps span.active {
      background: #4F46E5;
      color: white;
    }

    .progress-steps span.completed {
      background: #22c55e;
      color: white;
    }

    .progress-track {
      height: 4px;
      background: #e2e8f0;
      border-radius: 2px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #4F46E5, #7C3AED);
      width: 0%;
      transition: width 0.5s ease;
    }

    .chat-messages {
      height: 520px;
      overflow-y: auto;
      padding: 16px;
      background: #f8fafc;
    }

    .message {
      margin-bottom: 16px;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .bot-message {
      display: flex;
      gap: 8px;
    }

    .bot-avatar {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, #4F46E5, #7C3AED);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
    }

    .bot-bubble {
      background: white;
      padding: 14px 16px;
      border-radius: 0 16px 16px 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      max-width: 88%;
      font-size: 14px;
      line-height: 1.6;
      color: #1e293b;
      word-break: keep-all;
      overflow-wrap: break-word;
    }

    .user-message {
      display: flex;
      justify-content: flex-end;
    }

    .user-bubble {
      background: linear-gradient(135deg, #4F46E5, #7C3AED);
      color: white;
      padding: 12px 16px;
      border-radius: 16px 0 16px 16px;
      max-width: 85%;
      font-size: 14px;
      word-break: keep-all;
      overflow-wrap: break-word;
    }

    .typing-indicator {
      display: flex;
      gap: 4px;
      padding: 8px 0;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      background: #94a3b8;
      border-radius: 50%;
      animation: typing 1.4s infinite;
    }

    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-8px); }
    }

    .options-container {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
    }

    .options-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .option-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
      color: #1e293b;
      width: 100%;
      text-align: left;
      word-break: keep-all;
    }

    .option-btn:hover {
      border-color: #4F46E5;
      background: #f5f3ff;
    }

    .option-icon {
      font-size: 18px;
      flex-shrink: 0;
    }

    .option-btn-content {
      flex: 1;
      min-width: 0;
    }

    .option-btn-content strong {
      display: block;
      margin-bottom: 2px;
    }

    .option-btn-content p {
      font-size: 12px;
      color: #64748b;
      margin: 0;
      word-break: keep-all;
    }

    .input-container {
      margin-top: 12px;
    }

    .input-field {
      width: 100%;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      font-size: 14px;
      margin-bottom: 8px;
      transition: border-color 0.2s;
    }

    .input-field:focus {
      outline: none;
      border-color: #4F46E5;
    }

    textarea.input-field {
      min-height: 80px;
      resize: vertical;
    }

    .submit-btn {
      width: 100%;
      padding: 12px 16px;
      background: linear-gradient(135deg, #4F46E5, #7C3AED);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      word-break: keep-all;
    }

    .submit-btn:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
    }

    .submit-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .submit-btn.secondary {
      background: #f1f5f9;
      color: #475569;
    }

    .submit-btn.secondary:hover:not(:disabled) {
      background: #e2e8f0;
      box-shadow: none;
      transform: none;
    }

    .submit-btn.help-btn {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: #78350f;
      border: 2px solid #f59e0b;
      font-weight: 700;
      font-size: 15px;
      padding: 14px 18px;
      box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
    }

    .submit-btn.help-btn:hover:not(:disabled) {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      box-shadow: 0 4px 16px rgba(245, 158, 11, 0.5);
      transform: translateY(-2px);
    }

    .btn-row {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    .btn-row .submit-btn {
      flex: 1;
      min-width: 120px;
    }

    .code-block {
      background: #1e293b;
      color: #e2e8f0;
      padding: 16px;
      border-radius: 10px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 12px;
      overflow-x: auto;
      margin-top: 12px;
      position: relative;
      white-space: pre-wrap;
      word-break: break-word;
      overflow-wrap: break-word;
    }

    .copy-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 4px 12px;
      background: #475569;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 11px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .copy-btn:hover { background: #64748b; }
    .copy-btn.copied { background: #22c55e; }

    .chip {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 500;
    }

    .chip.green { background: #dcfce7; color: #16a34a; }
    .chip.orange { background: #ffedd5; color: #ea580c; }
    .chip.blue { background: #dbeafe; color: #2563eb; }

    .warning-box {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 12px 14px;
      border-radius: 0 8px 8px 0;
      margin-top: 12px;
      font-size: 13px;
      color: #92400e;
      word-break: keep-all;
    }

    .info-box {
      background: #dbeafe;
      border-left: 4px solid #3b82f6;
      padding: 12px 14px;
      border-radius: 0 8px 8px 0;
      margin-top: 12px;
      font-size: 13px;
      color: #1e40af;
      word-break: keep-all;
    }

    .success-box {
      background: #dcfce7;
      border-left: 4px solid #22c55e;
      padding: 12px 14px;
      border-radius: 0 8px 8px 0;
      margin-top: 12px;
      font-size: 13px;
      color: #166534;
      word-break: keep-all;
    }

    .error-box {
      background: #fee2e2;
      border-left: 4px solid #ef4444;
      padding: 12px 14px;
      border-radius: 0 8px 8px 0;
      margin-top: 12px;
      font-size: 13px;
      color: #991b1b;
      word-break: keep-all;
    }

    .step-box {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 16px;
      margin-top: 12px;
    }

    .step-box h4 {
      font-size: 14px;
      color: #1e293b;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
      word-break: keep-all;
    }

    .step-box ol, .step-box ul {
      padding-left: 20px;
      font-size: 13px;
      color: #475569;
    }

    .step-box li {
      margin-bottom: 10px;
      word-break: keep-all;
      line-height: 1.5;
    }
    .step-box li:last-child { margin-bottom: 0; }

    .step-box .step-detail {
      background: #f1f5f9;
      border-radius: 8px;
      padding: 10px 12px;
      margin-top: 6px;
      font-size: 12px;
      color: #64748b;
    }

    .checklist {
      margin-top: 12px;
    }

    .checklist-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 12px 14px;
      background: #f8fafc;
      border-radius: 10px;
      margin-bottom: 8px;
      font-size: 13px;
      color: #475569;
      word-break: keep-all;
      line-height: 1.5;
    }

    .checklist-item:last-child { margin-bottom: 0; }

    .checklist-item input[type="checkbox"] {
      display: none;
    }

    .checklist-item label, label.checklist-item {
      cursor: pointer;
      transition: background-color 0.2s;
      width: 100%;
    }

    .checklist-item label:hover, label.checklist-item:hover {
      background-color: #f1f5f9;
    }

    .checklist-item .icon {
      flex-shrink: 0;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .checklist-item .content {
      flex: 1;
    }

    .checklist-item.done { background: #dcfce7; color: #166534; }
    .checklist-item.pending { background: #fef3c7; color: #92400e; }

    .feature-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 16px;
      margin-top: 12px;
    }

    .feature-card-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .feature-card-header .icon { font-size: 20px; }

    .feature-card-header h5 {
      font-size: 14px;
      color: #1e293b;
      font-weight: 600;
    }

    .feature-card p {
      font-size: 13px;
      color: #64748b;
      margin-bottom: 12px;
      word-break: keep-all;
      line-height: 1.5;
    }

    .feature-card .detail-steps {
      background: #f8fafc;
      border-radius: 8px;
      padding: 12px;
      margin-top: 8px;
    }

    .feature-card .detail-steps ol {
      padding-left: 18px;
      font-size: 12px;
      color: #475569;
      margin: 0;
    }

    .feature-card .detail-steps li {
      margin-bottom: 6px;
      line-height: 1.4;
    }

    .mock-ui {
      background: #1e293b;
      border-radius: 8px;
      padding: 12px;
      margin-top: 12px;
    }

    .mock-ui-header {
      display: flex;
      gap: 6px;
      margin-bottom: 8px;
    }

    .mock-ui-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    .mock-ui-dot.red { background: #ef4444; }
    .mock-ui-dot.yellow { background: #f59e0b; }
    .mock-ui-dot.green { background: #22c55e; }

    .mock-ui-content {
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 11px;
      color: #94a3b8;
    }

    .mock-ui-row {
      padding: 4px 8px;
      border-radius: 4px;
      margin-bottom: 4px;
    }

    .mock-ui-row:last-child { margin-bottom: 0; }
    .mock-ui-row.highlight { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
    .mock-ui-row .time { color: #64748b; }
    .mock-ui-row .event { color: #38bdf8; }
    .mock-ui-row .category { color: #fbbf24; }

    .summary-table {
      width: 100%;
      margin-top: 12px;
      border-collapse: collapse;
      font-size: 12px;
    }

    .summary-table th, .summary-table td {
      padding: 8px 10px;
      border: 1px solid #e2e8f0;
      text-align: left;
      word-break: keep-all;
    }

    .summary-table th {
      background: #f8fafc;
      font-weight: 600;
      color: #475569;
    }

    .summary-table td { color: #64748b; }

    .success-animation {
      text-align: center;
      padding: 20px;
    }

    .success-icon {
      font-size: 48px;
      margin-bottom: 12px;
      animation: successPop 0.5s ease-out;
    }

    @keyframes successPop {
      0% { transform: scale(0); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    a { color: #4F46E5; }

    .submit-btn {
      color: white !important;
      text-decoration: none !important;
    }

    a.submit-btn {
      display: block;
      text-align: center;
      color: white !important;
    }

    a.submit-btn:visited,
    a.submit-btn:hover,
    a.submit-btn:active {
      color: white !important;
    }

    .help-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #4F46E5;
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      margin-top: 12px;
      padding: 10px 14px;
      background: linear-gradient(135deg, #ede9fe, #ddd6fe);
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .help-link:hover {
      background: linear-gradient(135deg, #ddd6fe, #c4b5fd);
      color: #3730a3;
      transform: translateX(4px);
      text-decoration: none;
    }

    .dashboard-guide {
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      border: 1px solid #0ea5e9;
      border-radius: 12px;
      padding: 16px;
      margin-top: 12px;
    }

    .dashboard-guide h4 {
      color: #0369a1;
      font-size: 14px;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dashboard-guide .path {
      background: white;
      border-radius: 6px;
      padding: 8px 12px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 12px;
      color: #0369a1;
      margin-bottom: 8px;
    }

    .dashboard-guide p {
      font-size: 13px;
      color: #0c4a6e;
      line-height: 1.5;
    }

    .expandable {
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      margin-top: 12px;
      overflow: hidden;
    }

    .expandable-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 14px;
      background: #f8fafc;
      cursor: pointer;
      transition: background 0.2s;
    }

    .expandable-header:hover {
      background: #f1f5f9;
    }

    .expandable-header h5 {
      font-size: 13px;
      color: #475569;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .expandable-header .arrow {
      transition: transform 0.2s;
    }

    .expandable-header.open .arrow {
      transform: rotate(180deg);
    }

    .expandable-content {
      display: none;
      padding: 14px;
      background: white;
      border-top: 1px solid #e2e8f0;
    }

    .expandable-content.open {
      display: block;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">
      <div class="chat-header-icon">ğŸš€</div>
      <div class="chat-header-text">
        <h1>Airbridge SDK Integration Guide</h1>
        <p>Configure only what you need</p>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-steps">
        <span id="step1">Setup</span>
        <span id="step2">Events</span>
        <span id="step3">Features</span>
        <span id="step4">Done</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <div class="chat-messages" id="chatMessages"></div>
  </div>

  <script>
    // ========== STATE ==========
    const state = {
      language: '',
      implementationMethod: '',
      appRegistered: false,
      appMode: '',
      platform: '',
      appName: '',
      sdkToken: '',
      hasIOS: false,
      hasAds: false,
      needsDeeplink: false,
      needsUserIdentity: false,
      needsRevenue: false,
      events: [],
      templateParts: { core: '', ios: '', deeplink: '', userIdentity: '', revenue: '' }
    };

    // ========== TRANSLATIONS ==========
    const t = {
      ko: {
        headerTitle: 'Airbridge SDK ì—°ë™ ê°€ì´ë“œ',
        headerSubtitle: 'í•„ìš”í•œ ê²ƒë§Œ ê³¨ë¼ì„œ ì„¤ì •í•˜ê¸°',
        step1: 'ê¸°ë³¸ì„¤ì •',
        step2: 'ì´ë²¤íŠ¸',
        step3: 'ì¶”ê°€ê¸°ëŠ¥',
        step4: 'ì™„ë£Œ',
        selectLanguage: 'ì–¸ì–´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”',
        langKorean: 'í•œêµ­ì–´',
        langEnglish: 'English',
        welcome1: 'ì•ˆë…•í•˜ì„¸ìš”! ğŸ‘‹',
        welcome2: '<strong>Airbridge SDK ì—°ë™</strong>ì„ ë„ì™€ë“œë¦´ê²Œìš”.',
        welcome3: 'ì²˜ìŒì´ì‹œë¼ë„ ê´œì°®ì•„ìš”! í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ì•ˆë‚´í•´ ë“œë¦´ê²Œìš”.',
        welcomeTip: 'ğŸ’¡ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ ìˆìœ¼ë©´ ì–¸ì œë“  "ë„ì›€ì´ í•„ìš”í•´ìš”" ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.',
        askAppRegistered: 'ë¨¼ì €, <strong>Airbridge ëŒ€ì‹œë³´ë“œì— ì•±ì„ ë“±ë¡</strong>í•˜ì…¨ë‚˜ìš”?',
        whatIsThis: 'ì´ê²Œ ë­”ê°€ìš”?',
        yesRegistered: 'ë„¤, ë“±ë¡í–ˆì–´ìš”',
        notYet: 'ì•„ì§ì´ìš”',
        needHelp: 'ë„ì›€ì´ í•„ìš”í•´ìš”',
        registerFirst: 'ë¨¼ì € ì•±ì„ ë“±ë¡í•´ì•¼ í•´ìš”. ì•„ë˜ ë‹¨ê³„ë¥¼ ë”°ë¼í•´ì£¼ì„¸ìš”!',
        registerStepTitle: 'ğŸ“ ì•± ë“±ë¡í•˜ê¸° (ì•½ 2ë¶„ ì†Œìš”)',
        registerStep1: '<a href="https://app.airbridge.io" target="_blank">app.airbridge.io</a>ì— ì ‘ì†í•´ì£¼ì„¸ìš”',
        registerStep1Detail: 'ì²˜ìŒì´ì‹œë¼ë©´ ë¨¼ì € íšŒì›ê°€ì…ì´ í•„ìš”í•´ìš”',
        registerStep2: 'ë¡œê·¸ì¸ í›„ ì™¼ìª½ ìƒë‹¨ì˜ <strong>+ ë²„íŠ¼</strong>ì„ í´ë¦­í•´ì£¼ì„¸ìš”',
        registerStep2Detail: 'ì•± ëª©ë¡ì´ ë³´ì´ëŠ” ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì— ìˆì–´ìš”',
        registerStep3: 'ì•± ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”',
        registerStep3Detail: 'App Nameì€ ì˜ë¬¸ ì†Œë¬¸ìì™€ ìˆ«ìë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš” (ì˜ˆ: myshop, app2024)',
        unchangeableWarning: 'âš ï¸ <strong>ë“±ë¡ í›„ ë³€ê²½ ë¶ˆê°€:</strong>',
        unchangeableItems: 'App Name, App Mode, Time Zone, CurrencyëŠ” í•œë²ˆ ì„¤ì •í•˜ë©´ ë³€ê²½í•  ìˆ˜ ì—†ì–´ìš”. ì‹ ì¤‘í•˜ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”!',
        testAppTip: 'ğŸ’¡ <strong>íŒ:</strong> í…ŒìŠ¤íŠ¸ìš© ì•±ì€ ì´ë¦„ì— "dev" ë˜ëŠ” "test"ë¥¼ í¬í•¨í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•´ìš”. ë‚˜ì¤‘ì— ìš´ì˜ ì•±ê³¼ êµ¬ë¶„í•˜ê¸° ì‰¬ì›Œìš”!',
        registrationDone: 'ë“±ë¡ ì™„ë£Œí–ˆì–´ìš”!',
        askAppMode: 'ì•±ì„ ì–´ë–¤ <strong>ëª¨ë“œ</strong>ë¡œ ë“±ë¡í•˜ì…¨ë‚˜ìš”?',
        appModeExplain: 'ì•± ëª¨ë“œëŠ” ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ê¸° ìœ„í•œ ì„¤ì •ì´ì—ìš”.',
        appModeWarning: 'âš ï¸ ì•± ëª¨ë“œëŠ” ë“±ë¡ í›„ ë³€ê²½í•  ìˆ˜ ì—†ì–´ìš”',
        productionMode: 'ìš´ì˜ ëª¨ë“œ (Production)',
        productionModeDesc: 'ì‹¤ì œ ì•±ìŠ¤í† ì–´ì— ì¶œì‹œí•  ì•±ì´ì—ìš”',
        developmentMode: 'ê°œë°œ ëª¨ë“œ (Development)',
        developmentModeDesc: 'í…ŒìŠ¤íŠ¸/ìŠ¤í…Œì´ì§•ìš© ì•±ì´ì—ìš”',
        modeHelpTitle: 'ì–´ë–¤ ê±¸ ì„ íƒí•´ì•¼ í• ì§€ ëª¨ë¥´ê² ì–´ìš”',
        modeHelpContent: '<strong>ìš´ì˜ ëª¨ë“œ:</strong> ì‹¤ì œ ì‚¬ìš©ìê°€ ì“¸ ì•±. ì•±ìŠ¤í† ì–´/í”Œë ˆì´ìŠ¤í† ì–´ì— ì¶œì‹œí•  ì•±ì´ë©´ ì´ê±¸ ì„ íƒí•˜ì„¸ìš”.<br><br><strong>ê°œë°œ ëª¨ë“œ:</strong> í…ŒìŠ¤íŠ¸ìš© ì•±. ê°œë°œí•˜ë©´ì„œ í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”. í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì‹¤ì œ ë°ì´í„°ì™€ ì„ì´ì§€ ì•Šì•„ìš”.',
        selectedProduction: 'ìš´ì˜ ëª¨ë“œë¡œ ë“±ë¡í–ˆì–´ìš”',
        selectedDevelopment: 'ê°œë°œ ëª¨ë“œë¡œ ë“±ë¡í–ˆì–´ìš”',
        productionTip: 'âœ… ì¢‹ì•„ìš”! ì‹¤ì œ ìº í˜ì¸ ì„±ê³¼ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆì–´ìš”.',
        developmentTip: 'âœ… ì¢‹ì•„ìš”! í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ìš´ì˜ ë°ì´í„°ì™€ ì„ì´ì§€ ì•Šì•„ìš”.',
        askImplementation: '<strong>SDK ì—°ë™ì„ ì–´ë–»ê²Œ ì§„í–‰í•˜ì‹œë‚˜ìš”?</strong>',
        implExplain: 'AIë¥¼ í™œìš©í•˜ë©´ ë” ë¹ ë¥´ê²Œ ì—°ë™í•  ìˆ˜ ìˆì–´ìš”!',
        implAI: 'AIë¡œ ì§ì ‘ êµ¬í˜„',
        implAIDesc: 'Claude, ChatGPT ë“±ìœ¼ë¡œ ì§ì ‘ ê°œë°œí•  ê±°ì˜ˆìš”',
        implDevTeam: 'ê°œë°œíŒ€ì— ìš”ì²­',
        implDevTeamDesc: 'ìš”êµ¬ì‚¬í•­ì„ ì •ë¦¬í•´ì„œ ê°œë°œíŒ€ì— ì „ë‹¬í•  ê±°ì˜ˆìš”',
        implAISelected: 'AIë¡œ ì§ì ‘ êµ¬í˜„í• ê²Œìš”',
        implDevTeamSelected: 'ê°œë°œíŒ€ì— ìš”ì²­í•  ê±°ì˜ˆìš”',
        implAIResponse: 'ì¢‹ì•„ìš”! ğŸ’ª AIì—ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” <strong>ìƒì„¸í•œ í”„ë¡¬í”„íŠ¸</strong>ë¥¼ ë§Œë“¤ì–´ë“œë¦´ê²Œìš”.',
        implDevTeamResponse: 'ì•Œê² ì–´ìš”! ê°œë°œíŒ€ì—ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” <strong>ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ</strong>ì™€ <strong>í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</strong>ë¥¼ ë§Œë“¤ì–´ë“œë¦´ê²Œìš”.',
        askPlatform: 'ì–´ë–¤ í”Œë«í¼ìœ¼ë¡œ ê°œë°œí•˜ê³  ìˆë‚˜ìš”?',
        platformExplain: 'í”Œë«í¼ì— ë§ëŠ” SDK ì„¤ì¹˜ ë°©ë²•ì„ ì•ˆë‚´í•´ë“œë¦´ê²Œìš”.',
        askiOSSupport: 'ì´ ì•±ì´ <strong>iOSë„ ì§€ì›</strong>í•˜ë‚˜ìš”?',
        iOSExplain: 'iOS ì•±ì€ ì• í”Œì˜ ê°œì¸ì •ë³´ ë³´í˜¸ ì •ì±…ìœ¼ë¡œ ì¸í•´ ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•´ìš”.',
        iOSTip: 'ğŸ’¡ iOS ì•±ì´ë©´ ATT(App Tracking Transparency)ì™€ SKAN ì„¤ì •ì´ í•„ìš”í•´ìš”',
        yesiOS: 'ë„¤, iOS ì§€ì›í•´ìš”',
        androidOnly: 'Androidë§Œì´ìš”',
        askSDKToken: 'ì´ì œ <strong>SDK í† í°</strong>ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.',
        tokenExplain: 'SDK í† í°ì€ ì•±ì„ ì‹ë³„í•˜ëŠ” ê³ ìœ í•œ í‚¤ì˜ˆìš”. ëŒ€ì‹œë³´ë“œì—ì„œ ë³µì‚¬í•  ìˆ˜ ìˆì–´ìš”.',
        tokenLocationTitle: 'ğŸ“ í† í° ì°¾ëŠ” ë°©ë²•',
        tokenStep1: '<a href="https://app.airbridge.io" target="_blank">app.airbridge.io</a>ì— ì ‘ì†',
        tokenStep2: 'ì™¼ìª½ ìƒë‹¨ì—ì„œ ì•±ì„ ì„ íƒ',
        tokenStep3: 'ì™¼ìª½ ë©”ë‰´ì—ì„œ <strong>Settings (âš™ï¸)</strong> í´ë¦­',
        tokenStep4: '<strong>Tokens</strong> íƒ­ì—ì„œ SDK Token ë³µì‚¬',
        appNamePlaceholder: 'App Name (ì˜ˆ: myshop)',
        sdkTokenPlaceholder: 'SDK Token (32ìë¦¬)',
        appNameHelp: 'ëŒ€ì‹œë³´ë“œì— ë“±ë¡í•œ ì•± ì´ë¦„ê³¼ ë™ì¼í•´ì•¼ í•´ìš”',
        next: 'ë‹¤ìŒ',
        basicInfoDone: 'ê¸°ë³¸ ì •ë³´ ì…ë ¥ ì™„ë£Œ! âœ…',
        askEvents: 'ì´ì œ <strong>íŠ¸ë˜í‚¹í•  ì´ë²¤íŠ¸</strong>ë¥¼ ì •í• ê²Œìš”.',
        eventsExplain: 'ì´ë²¤íŠ¸ë€ ì‚¬ìš©ìê°€ ì•±ì—ì„œ í•˜ëŠ” í–‰ë™ì´ì—ìš”. ì˜ˆ: ë¡œê·¸ì¸, êµ¬ë§¤, ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ë“±',
        basicEventsIncluded: 'ê¸°ë³¸ ì´ë²¤íŠ¸(íšŒì›ê°€ì…, ë¡œê·¸ì¸)ëŠ” ìë™ìœ¼ë¡œ í¬í•¨ë©ë‹ˆë‹¤.',
        signUp: 'íšŒì›ê°€ì…',
        signIn: 'ë¡œê·¸ì¸',
        askRevenue: '<strong>êµ¬ë§¤/ê²°ì œ ê°™ì€ ë§¤ì¶œ ì´ë²¤íŠ¸</strong>ë¥¼ íŠ¸ë˜í‚¹í•˜ê³  ì‹¶ìœ¼ì„¸ìš”?',
        revenueExplain: 'ë§¤ì¶œ ì´ë²¤íŠ¸ë¥¼ íŠ¸ë˜í‚¹í•˜ë©´ ê´‘ê³ ë¹„ ëŒ€ë¹„ ìˆ˜ìµ(ROAS)ì„ ë¶„ì„í•  ìˆ˜ ìˆì–´ìš”.',
        revenueTip: 'ğŸ’¡ ì´ì»¤ë¨¸ìŠ¤/ì‡¼í•‘ ì•±ì´ë¼ë©´ í•„ìˆ˜ì˜ˆìš”!',
        yesNeed: 'ë„¤, í•„ìš”í•´ìš”',
        skip: 'ê±´ë„ˆë›°ê¸°',
        revenueNeeded: 'ë§¤ì¶œ ì´ë²¤íŠ¸ í•„ìš”í•´ìš”',
        skipped: 'ê±´ë„ˆë›¸ê²Œìš”',
        revenueAdded: 'ë§¤ì¶œ ê´€ë ¨ ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í–ˆì–´ìš”:',
        productViewed: 'ìƒí’ˆ ì¡°íšŒ',
        addToCart: 'ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€',
        orderCompleted: 'êµ¬ë§¤ ì™„ë£Œ',
        askAdditionalEvents: '<strong>ì¶”ê°€ë¡œ íŠ¸ë˜í‚¹í•˜ê³  ì‹¶ì€ ì´ë²¤íŠ¸</strong>ê°€ ìˆë‚˜ìš”?',
        additionalEventsExplain: 'ì•±ì—ì„œ ì¤‘ìš”í•œ ì‚¬ìš©ì í–‰ë™ì´ ìˆë‹¤ë©´ ì¶”ê°€í•´ì£¼ì„¸ìš”.',
        addCustom: 'ì§ì ‘ ì¶”ê°€í• ê²Œìš”',
        enough: 'ì´ ì •ë„ë©´ ì¶©ë¶„í•´ìš”',
        customEventTitle: 'ğŸ“ ì¶”ê°€ ì´ë²¤íŠ¸ ì…ë ¥',
        customEventDesc: 'ì´ë²¤íŠ¸ë¥¼ í•œ ì¤„ì”© ì…ë ¥í•´ì£¼ì„¸ìš”. ì˜ˆ: ê²€ìƒ‰, ê³µìœ , ì¢‹ì•„ìš”',
        customEventPlaceholder: 'ì˜ˆ:\nê²€ìƒ‰\nê³µìœ \nì¢‹ì•„ìš”',
        addEvents: 'ì¶”ê°€í•˜ê¸°',
        eventsAdded: 'ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í–ˆì–´ìš”:',
        askAds: '<strong>ê´‘ê³  ìº í˜ì¸</strong>ì„ ìš´ì˜í•˜ê³  ìˆë‚˜ìš”?',
        adsExplain: 'ê´‘ê³ ë¥¼ í†µí•´ ìœ ì €ë¥¼ ìœ ì…ì‹œí‚¤ê³  ìˆë‹¤ë©´, ì–´íŠ¸ë¦¬ë·°ì…˜ ì„¤ì •ì´ í•„ìš”í•´ìš”.',
        adsTip: 'ğŸ’¡ ì–´íŠ¸ë¦¬ë·°ì…˜ì´ë€? ì–´ë–¤ ê´‘ê³ ê°€ ì•± ì„¤ì¹˜ë¡œ ì´ì–´ì¡ŒëŠ”ì§€ ì¶”ì í•˜ëŠ” ê¸°ëŠ¥ì´ì—ìš”.',
        yesAds: 'ë„¤, ê´‘ê³ í•´ìš”',
        noAds: 'ì•„ë‹ˆìš”',
        adsYes: 'ê´‘ê³ í•˜ê³  ìˆì–´ìš”',
        adsNo: 'ê´‘ê³  ì•ˆ í•´ìš”',
        adsAddedInfo: 'âœ… ê´‘ê³  ì„±ê³¼ ì¸¡ì •ì„ ìœ„í•´ ì±„ë„ ì—°ë™ì´ í•„ìš”í•´ìš”.',
        attributionTitle: 'ğŸ“Š ì–´íŠ¸ë¦¬ë·°ì…˜ ì„¤ì •í•˜ê¸°',
        attributionDesc: 'ê´‘ê³  ì±„ë„(Facebook, Google ë“±)ê³¼ Airbridgeë¥¼ ì—°ë™í•´ì•¼ ê´‘ê³  ì„±ê³¼ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆì–´ìš”.',
        attributionSteps: 'ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •í•˜ê¸°',
        attributionStep1: 'app.airbridge.io ì ‘ì†',
        attributionStep2: 'ì™¼ìª½ ë©”ë‰´ì—ì„œ [Integrations] í´ë¦­',
        attributionStep3: '[Ad Channel] íƒ­ì—ì„œ ì—°ë™í•  ê´‘ê³  ì±„ë„ ì„ íƒ',
        attributionStep4: 'ê´‘ê³  ì±„ë„ì˜ API í‚¤ ì…ë ¥',
        attributionHelpLink: 'ğŸ“š ì–´íŠ¸ë¦¬ë·°ì…˜ ìƒì„¸ ê°€ì´ë“œ',
        askDeeplink: '<strong>ë”¥ë§í¬</strong>ê°€ í•„ìš”í•˜ì„¸ìš”?',
        deeplinkExplain: 'ë”¥ë§í¬ë€ ì•±ì˜ íŠ¹ì • í™”ë©´ìœ¼ë¡œ ë°”ë¡œ ì´ë™ì‹œí‚¤ëŠ” ë§í¬ì˜ˆìš”.',
        deeplinkExample: 'ì˜ˆ: ê´‘ê³  í´ë¦­ â†’ ì•± ì„¤ì¹˜ â†’ íŠ¹ì • ìƒí’ˆ í˜ì´ì§€ë¡œ ë°”ë¡œ ì´ë™',
        deeplinkTip: 'ğŸ’¡ ê´‘ê³ ë‚˜ ë§ˆì¼€íŒ…ì„ í•œë‹¤ë©´ ë”¥ë§í¬ê°€ í•„ìš”í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ìš”!',
        yesDeeplink: 'ë„¤, í•„ìš”í•´ìš”',
        noDeeplink: 'ë‚˜ì¤‘ì— í• ê²Œìš”',
        deeplinkNeeded: 'ë”¥ë§í¬ í•„ìš”í•´ìš”',
        deeplinkNotNeeded: 'ë‚˜ì¤‘ì— í• ê²Œìš”',
        deeplinkAdded: 'âœ… ë”¥ë§í¬ ì„¤ì •ì„ í…œí”Œë¦¿ì— í¬í•¨í• ê²Œìš”.',
        deeplinkTitle: 'ğŸ”— ë”¥ë§í¬ ì„¤ì •í•˜ê¸°',
        deeplinkDesc: 'ë”¥ë§í¬ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì•±ê³¼ ëŒ€ì‹œë³´ë“œ ì–‘ìª½ì—ì„œ ì„¤ì •ì´ í•„ìš”í•´ìš”.',
        deeplinkAppSetup: 'ì•±ì—ì„œ ì„¤ì •í•  ë‚´ìš© (ê°œë°œ í•„ìš”):',
        deeplinkAppStep1: 'URI Scheme ë“±ë¡ (ì˜ˆ: myapp://)',
        deeplinkAppStep2: 'Universal Link / App Link ì„¤ì •',
        deeplinkAppStep3: 'ë”¥ë§í¬ ìˆ˜ì‹  ì½”ë“œ êµ¬í˜„',
        deeplinkDashboardSetup: 'ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •í•  ë‚´ìš©:',
        deeplinkDashboardStep1: '[Settings] â†’ [Deep Link] ë©”ë‰´ ì´ë™',
        deeplinkDashboardStep2: 'URI Scheme ì…ë ¥ (ì•±ê³¼ ë™ì¼í•˜ê²Œ)',
        deeplinkDashboardStep3: 'Universal Link ë„ë©”ì¸ ì„¤ì •',
        deeplinkHelpLink: 'ğŸ“š ë”¥ë§í¬ ìƒì„¸ ê°€ì´ë“œ',
        askUserIdentity: '<strong>ë¡œê·¸ì¸í•œ ìœ ì €ë¥¼ ì‹ë³„</strong>í•´ì•¼ í•˜ë‚˜ìš”?',
        userIdentityExplain: 'ìœ ì € ì‹ë³„ìë¥¼ ì„¤ì •í•˜ë©´ ê°™ì€ ìœ ì €ê°€ ì—¬ëŸ¬ ê¸°ê¸°ë¥¼ ì‚¬ìš©í•´ë„ í•œ ëª…ìœ¼ë¡œ ì¸ì‹í•  ìˆ˜ ìˆì–´ìš”.',
        userIdentityTip: 'ğŸ’¡ ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ ìˆëŠ” ì•±ì´ë¼ë©´ ê¶Œì¥í•´ìš”!',
        yesUserIdentity: 'ë„¤, í•„ìš”í•´ìš”',
        noUserIdentity: 'ë‚˜ì¤‘ì— í• ê²Œìš”',
        userIdentityNeeded: 'ìœ ì € ì‹ë³„ í•„ìš”í•´ìš”',
        userIdentityNotNeeded: 'ë‚˜ì¤‘ì— í• ê²Œìš”',
        userIdentityAdded: 'âœ… ìœ ì € ì‹ë³„ì ì„¤ì •ì„ í…œí”Œë¦¿ì— í¬í•¨í• ê²Œìš”.',
        userIdentityTitle: 'ğŸ‘¤ ìœ ì € ì‹ë³„ì ì„¤ì •í•˜ê¸°',
        userIdentityDesc: 'ë¡œê·¸ì¸ ì‹œ ìœ ì €ì˜ ê³ ìœ  IDë¥¼ Airbridgeì— ì „ë‹¬í•˜ë©´ ë¼ìš”.',
        userIdentityCode: 'ë¡œê·¸ì¸ ì„±ê³µ ì‹œ í˜¸ì¶œ:',
        userIdentityDashboard: 'ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸í•˜ê¸°:',
        userIdentityDashboardStep1: '[Raw Data] â†’ [App Real-time Log] ì´ë™',
        userIdentityDashboardStep2: 'ì´ë²¤íŠ¸ í´ë¦­ â†’ User ì •ë³´ì—ì„œ ID í™•ì¸',
        userIdentityHelpLink: 'ğŸ“š ìœ ì € ì‹ë³„ì ìƒì„¸ ê°€ì´ë“œ',
        summaryItem: 'í•­ëª©',
        summarySetting: 'ì„¤ì •',
        summaryPlatform: 'í”Œë«í¼',
        summaryiOS: 'iOS ì§€ì›',
        summaryEvents: 'ì´ë²¤íŠ¸',
        summaryRevenue: 'ë§¤ì¶œ íŠ¸ë˜í‚¹',
        summaryDeeplink: 'ë”¥ë§í¬',
        summaryUserIdentity: 'ìœ ì € ì‹ë³„ì',
        summaryATT: 'ATT ì„¤ì •',
        yes: 'ì˜ˆ',
        no: 'ì•„ë‹ˆì˜¤',
        pasteToClaudeCode: 'ì•„ë˜ í…œí”Œë¦¿ì„ <strong>AI (Claude, ChatGPT ë“±)</strong>ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”:',
        sendToDevTeam: 'ì•„ë˜ <strong>ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ</strong>ë¥¼ ê°œë°œíŒ€ì—ê²Œ ì „ë‹¬í•˜ì„¸ìš”:',
        copy: 'ë³µì‚¬',
        copied: 'ë³µì‚¬ë¨!',
        verificationTitle: '<strong>ğŸ” ì—°ë™ì´ ì™„ë£Œë˜ë©´ í™•ì¸í•´ì£¼ì„¸ìš”!</strong>',
        verificationExplain: 'SDK ì—°ë™ì´ ì œëŒ€ë¡œ ëëŠ”ì§€ ëŒ€ì‹œë³´ë“œì—ì„œ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.',
        realtimeLogTitle: 'ì‹¤ì‹œê°„ ë¡œê·¸ë¡œ í™•ì¸í•˜ê¸°',
        verifyStep1: 'ì•±ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš” (ì‹œë®¬ë ˆì´í„° ë˜ëŠ” ì‹¤ì œ ê¸°ê¸°)',
        verifyStep2: '<a href="https://app.airbridge.io" target="_blank">app.airbridge.io</a>ì— ì ‘ì†',
        verifyStep3: 'ì™¼ìª½ ë©”ë‰´ì—ì„œ <strong>[Raw Data]</strong> í´ë¦­',
        verifyStep4: '<strong>[App Real-time Log]</strong> ì„ íƒ',
        verifyStep5: 'ì•±ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ê³  ë¡œê·¸ í™•ì¸',
        verifySuccess: 'âœ… ì´ë²¤íŠ¸ê°€ 1~2ì´ˆ ë‚´ì— ë³´ì´ë©´ ì„±ê³µ!',
        verifyDelay: 'âš ï¸ ìµœëŒ€ 10ë¶„ê¹Œì§€ ì§€ì—°ë  ìˆ˜ ìˆì–´ìš”. ì¡°ê¸ˆ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.',
        dashboardVerifyTitle: 'ğŸ“Š ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸í•˜ê¸°',
        dashboardVerifyPath: '[Raw Data] â†’ [App Real-time Log]',
        dashboardVerifyDesc: 'ì´ë²¤íŠ¸ ì´ë¦„, ìœ ì € ì •ë³´, ì‹œê°„ ë“±ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.',
        eventNotShowing: 'ì´ë²¤íŠ¸ê°€ ì•ˆ ë³´ì—¬ìš”',
        troubleshootTitle: '<strong>ë¬¸ì œ í•´ê²° ì²´í¬ë¦¬ìŠ¤íŠ¸:</strong>',
        troubleshoot1: 'SDK í† í°ì´ ì •í™•í•œê°€ìš”? (ëŒ€ì‹œë³´ë“œì—ì„œ ë‹¤ì‹œ ë³µì‚¬í•´ë³´ì„¸ìš”)',
        troubleshoot2: 'App Nameì´ ëŒ€ì‹œë³´ë“œì™€ ì •í™•íˆ ì¼ì¹˜í•˜ë‚˜ìš”?',
        troubleshoot3: 'ì´ë²¤íŠ¸ í˜¸ì¶œ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ìˆë‚˜ìš”? (ë¡œê·¸ í™•ì¸)',
        troubleshoot4: 'ê¸°ê¸°ê°€ ì¸í„°ë„·ì— ì—°ê²°ë˜ì–´ ìˆë‚˜ìš”?',
        troubleshoot5: 'ì•±ì´ ë°±ê·¸ë¼ìš´ë“œê°€ ì•„ë‹Œ í¬ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ê°€ìš”?',
        askClaudeCode: 'AIì— ì´ë ‡ê²Œ ìš”ì²­í•˜ì„¸ìš”:',
        askDevTeam: '<strong>ê°œë°œíŒ€ì— í™•ì¸ ìš”ì²­:</strong>',
        nextStepsBtn: 'ë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´',
        restartBtn: 'ì²˜ìŒë¶€í„° ë‹¤ì‹œ',
        nextStepsTitle: '<strong>ì—°ë™ ì™„ë£Œ í›„ í•  ì¼:</strong>',
        channelIntegration: '<strong>ê´‘ê³  ì±„ë„ ì—°ë™</strong><br>ëŒ€ì‹œë³´ë“œ [Integrations] â†’ [Ad Channel]',
        trackingLink: '<strong>íŠ¸ë˜í‚¹ ë§í¬ ìƒì„±</strong><br>ëŒ€ì‹œë³´ë“œ [Tracking Link]',
        skanSetup: '<strong>SKAN ì„¤ì • (iOS)</strong><br>[Settings] â†’ [SKAN]',
        deeplinkDomain: '<strong>ë”¥ë§í¬ ë„ë©”ì¸ ì„¤ì •</strong><br>[Settings] â†’ [Deep Link]',
        waitData: '<strong>1~2ì¼ ëŒ€ê¸°</strong><br>ë°ì´í„°ê°€ ì¶©ë¶„íˆ ìŒ“ì¸ í›„ ë¦¬í¬íŠ¸ í™•ì¸',
        congrats: 'ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰',
        congratsSubtitle: 'Airbridge ì—°ë™ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.',
        helpCenter: 'ğŸ“š Airbridge ë„ì›€ë§ ì„¼í„°',
        onPayment: 'ê²°ì œ ì™„ë£Œ ì‹œ',
        onProductView: 'ìƒí’ˆ ìƒì„¸ ì§„ì…',
        onAddToCart: 'ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°',
        onAction: 'í•´ë‹¹ ì•¡ì…˜ ì‹œ',
        verifyBeforeProceed: 'ì§„í–‰í•˜ê¸° ì „ì— í™•ì¸í•´ì£¼ì„¸ìš”:',
        verifyAppRegistration: 'ì•± ë“±ë¡ í™•ì¸',
        verifyAppCheck1: 'ëŒ€ì‹œë³´ë“œì—ì„œ ë‚´ ì•±ì´ ë³´ì´ë‚˜ìš”?',
        verifyAppCheck2: 'App Nameì´ ì •í™•í•œê°€ìš”?',
        verifyAppCheck3: 'Settings ë©”ë‰´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‚˜ìš”?',
        verifyConfirmBtn: 'ëª¨ë‘ í™•ì¸í–ˆì–´ìš” âœ…',
        verifyHelpBtn: 'ë„ì›€ì´ í•„ìš”í•´ìš”',
        tokenValid: 'âœ… í† í° í˜•ì‹ì´ ì˜¬ë°”ë¦…ë‹ˆë‹¤',
        tokenInvalid: 'âš ï¸ í† í° í˜•ì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš” (32ìë¦¬ ì˜ë¬¸/ìˆ«ì)',
        tokenVerifyTitle: 'SDK í† í° ê²€ì¦',
        tokenVerifyDesc: 'ì…ë ¥í•œ í† í°ì´ ë§ëŠ”ì§€ ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸í•˜ì„¸ìš”',
        tokenVerifyStep1: 'app.airbridge.io â†’ ì•± ì„ íƒ',
        tokenVerifyStep2: 'Settings (âš™ï¸) â†’ Tokens íƒ­',
        tokenVerifyStep3: 'SDK Token ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸',
        tokenMismatchWarning: 'í† í°ì´ ë‹¤ë¥´ë©´ ì´ë²¤íŠ¸ê°€ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤',
        iOSSettingsTitle: 'ğŸ iOS ì¶”ê°€ ì„¤ì •',
        iOSSettingsDesc: 'iOS 14 ì´í›„ë¶€í„° ì• í”Œì˜ ê°œì¸ì •ë³´ ë³´í˜¸ ì •ì±…ìœ¼ë¡œ ì¸í•´ ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•´ìš”.',
        attTitle: 'ATT (App Tracking Transparency)',
        attDesc: 'ì‚¬ìš©ìì—ê²Œ ì¶”ì  í—ˆìš©ì„ ìš”ì²­í•˜ëŠ” íŒì—…ì´ì—ìš”. ê´‘ê³  ì„±ê³¼ ì¸¡ì •ì— í•„ìˆ˜!',
        attStep1: 'Info.plistì— NSUserTrackingUsageDescription ì¶”ê°€',
        attStep2: 'ATT ê¶Œí•œ ìš”ì²­ ì½”ë“œ êµ¬í˜„',
        attStep3: 'Airbridge SDKì— ATT ì‘ë‹µ ì „ë‹¬',
        skanTitle: 'SKAN (SKAdNetwork)',
        skanDesc: 'ATT ê±°ë¶€ ì‹œì—ë„ ê´‘ê³  ì„±ê³¼ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆëŠ” ì• í”Œì˜ ëŒ€ì•ˆì´ì—ìš”.',
        skanStep1: 'Info.plistì— SKAdNetworkItems ì¶”ê°€',
        skanStep2: 'ëŒ€ì‹œë³´ë“œì—ì„œ [Settings] â†’ [SKAN] ì„¤ì •',
        iOSHelpLink: 'ğŸ“š iOS ì„¤ì • ìƒì„¸ ê°€ì´ë“œ',
        gotItInclude: 'ì´í•´í–ˆì–´ìš”, í¬í•¨í•´ì£¼ì„¸ìš”',
        checkingDashboard: 'ëŒ€ì‹œë³´ë“œ ì„¤ì • í™•ì¸í•˜ê¸°',
        dashboardCheckTitle: 'ğŸ“‹ ëŒ€ì‹œë³´ë“œ ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸',
        dashboardCheckDesc: 'ì•„ë˜ í•­ëª©ë“¤ì´ ëŒ€ì‹œë³´ë“œì— ì œëŒ€ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.'
      },
      en: {
        headerTitle: 'Airbridge SDK Integration Guide',
        headerSubtitle: 'Configure only what you need',
        step1: 'Setup',
        step2: 'Events',
        step3: 'Features',
        step4: 'Done',
        selectLanguage: 'Select your language',
        langKorean: 'í•œêµ­ì–´',
        langEnglish: 'English',
        welcome1: 'Hello! ğŸ‘‹',
        welcome2: "I'll help you with <strong>Airbridge SDK integration</strong>.",
        welcome3: "Even if it's your first time, no worries! I'll guide you step by step.",
        welcomeTip: 'ğŸ’¡ If you need help at any point, just click the "Need help" button.',
        askAppRegistered: 'First, have you <strong>registered your app in the Airbridge dashboard</strong>?',
        whatIsThis: "What's this?",
        yesRegistered: 'Yes, registered',
        notYet: 'Not yet',
        needHelp: 'Need help',
        registerFirst: 'You need to register your app first. Follow the steps below!',
        registerStepTitle: 'ğŸ“ Register App (takes about 2 minutes)',
        registerStep1: 'Go to <a href="https://app.airbridge.io" target="_blank">app.airbridge.io</a>',
        registerStep1Detail: 'If you\'re new, you\'ll need to sign up first',
        registerStep2: 'After login, click the <strong>+ button</strong> at the top left',
        registerStep2Detail: 'It\'s in the dropdown menu where the app list is shown',
        registerStep3: 'Enter your app information',
        registerStep3Detail: 'App Name can only contain lowercase letters and numbers (e.g., myshop, app2024)',
        unchangeableWarning: 'âš ï¸ <strong>Cannot change after registration:</strong>',
        unchangeableItems: 'App Name, App Mode, Time Zone, and Currency cannot be changed once set. Please enter carefully!',
        testAppTip: 'ğŸ’¡ <strong>Tip:</strong> For test apps, we recommend including "dev" or "test" in the name. It\'s easier to distinguish from production apps later!',
        registrationDone: "Done registering!",
        askAppMode: 'Which <strong>mode</strong> did you register the app in?',
        appModeExplain: 'App mode is a setting to separate data.',
        appModeWarning: 'âš ï¸ App mode cannot be changed after registration',
        productionMode: 'Production Mode',
        productionModeDesc: 'App that will be released on app stores',
        developmentMode: 'Development Mode',
        developmentModeDesc: 'App for testing/staging',
        modeHelpTitle: "I don't know which one to choose",
        modeHelpContent: '<strong>Production Mode:</strong> For apps used by real users. Choose this if your app will be released on App Store/Play Store.<br><br><strong>Development Mode:</strong> For test apps. Use this while developing and testing. Test data won\'t mix with real data.',
        selectedProduction: 'Registered in Production mode',
        selectedDevelopment: 'Registered in Development mode',
        productionTip: 'âœ… Great! You can measure real campaign performance.',
        developmentTip: 'âœ… Great! Test data stays separate from production data.',
        askImplementation: '<strong>How will you implement the SDK?</strong>',
        implExplain: 'Using AI can make integration faster!',
        implAI: 'Implement with AI',
        implAIDesc: "I'll develop directly with Claude, ChatGPT, etc.",
        implDevTeam: 'Request to Dev Team',
        implDevTeamDesc: "I'll organize requirements and send to dev team",
        implAISelected: "I'll implement with AI",
        implDevTeamSelected: "I'll request to dev team",
        implAIResponse: "Great! ğŸ’ª I'll create a <strong>detailed prompt</strong> you can use directly with AI.",
        implDevTeamResponse: "Got it! I'll create a <strong>requirements spec</strong> and <strong>verification checklist</strong> you can share with your dev team.",
        askPlatform: 'What platform are you developing on?',
        platformExplain: "I'll guide you on SDK installation for your platform.",
        askiOSSupport: 'Does this app <strong>support iOS</strong>?',
        iOSExplain: "iOS apps require additional settings due to Apple's privacy policies.",
        iOSTip: 'ğŸ’¡ iOS apps need ATT (App Tracking Transparency) and SKAN setup',
        yesiOS: 'Yes, supports iOS',
        androidOnly: 'Android only',
        askSDKToken: 'Now, please enter your <strong>SDK token</strong>.',
        tokenExplain: 'SDK token is a unique key that identifies your app. You can copy it from the dashboard.',
        tokenLocationTitle: 'ğŸ“ How to find your token',
        tokenStep1: 'Go to <a href="https://app.airbridge.io" target="_blank">app.airbridge.io</a>',
        tokenStep2: 'Select your app from the top left',
        tokenStep3: 'Click <strong>Settings (âš™ï¸)</strong> in the left menu',
        tokenStep4: 'Copy SDK Token from the <strong>Tokens</strong> tab',
        appNamePlaceholder: 'App Name (e.g., myshop)',
        sdkTokenPlaceholder: 'SDK Token (32 characters)',
        appNameHelp: 'Must match the app name in dashboard',
        next: 'Next',
        basicInfoDone: 'Basic info complete! âœ…',
        askEvents: "Now let's define the <strong>events to track</strong>.",
        eventsExplain: 'Events are user actions in your app. Examples: login, purchase, add to cart, etc.',
        basicEventsIncluded: 'Basic events (sign up, sign in) are automatically included.',
        signUp: 'Sign Up',
        signIn: 'Sign In',
        askRevenue: 'Do you want to track <strong>purchase/payment revenue events</strong>?',
        revenueExplain: 'Tracking revenue events lets you analyze ROAS (Return on Ad Spend).',
        revenueTip: 'ğŸ’¡ Essential for e-commerce/shopping apps!',
        yesNeed: 'Yes, I need it',
        skip: 'Skip',
        revenueNeeded: 'I need revenue events',
        skipped: "I'll skip",
        revenueAdded: 'Added revenue-related events:',
        productViewed: 'Product Viewed',
        addToCart: 'Add to Cart',
        orderCompleted: 'Order Completed',
        askAdditionalEvents: 'Do you have <strong>additional events to track</strong>?',
        additionalEventsExplain: 'Add any important user actions in your app.',
        addCustom: "I'll add custom events",
        enough: "This is enough",
        customEventTitle: 'ğŸ“ Add Custom Events',
        customEventDesc: 'Enter one event per line. e.g., Search, Share, Like',
        customEventPlaceholder: 'e.g.:\nSearch\nShare\nLike',
        addEvents: 'Add Events',
        eventsAdded: 'Events added:',
        askAds: 'Are you running <strong>ad campaigns</strong>?',
        adsExplain: 'If you acquire users through ads, you need attribution setup.',
        adsTip: "ğŸ’¡ What's attribution? It tracks which ads led to app installs.",
        yesAds: 'Yes, running ads',
        noAds: 'No',
        adsYes: 'Running ads',
        adsNo: 'Not running ads',
        adsAddedInfo: 'âœ… Channel integration is needed for ad performance measurement.',
        attributionTitle: 'ğŸ“Š Attribution Setup',
        attributionDesc: 'You need to connect your ad channels (Facebook, Google, etc.) with Airbridge to measure ad performance.',
        attributionSteps: 'Set up in dashboard',
        attributionStep1: 'Go to app.airbridge.io',
        attributionStep2: 'Click [Integrations] in the left menu',
        attributionStep3: 'Select ad channel to connect in [Ad Channel] tab',
        attributionStep4: 'Enter API key from ad channel',
        attributionHelpLink: 'ğŸ“š Attribution detailed guide',
        askDeeplink: 'Do you need <strong>deep linking</strong>?',
        deeplinkExplain: 'Deep links are URLs that navigate to specific screens in your app.',
        deeplinkExample: 'Example: Ad click â†’ App install â†’ Navigate directly to product page',
        deeplinkTip: "ğŸ’¡ If you're doing ads or marketing, you'll likely need deep links!",
        yesDeeplink: 'Yes, I need it',
        noDeeplink: "I'll do it later",
        deeplinkNeeded: 'I need deep linking',
        deeplinkNotNeeded: "I'll do it later",
        deeplinkAdded: "âœ… I'll include deep link setup in the template.",
        deeplinkTitle: 'ğŸ”— Deep Link Setup',
        deeplinkDesc: 'Deep links require setup in both your app and the dashboard.',
        deeplinkAppSetup: 'App-side setup (requires development):',
        deeplinkAppStep1: 'Register URI Scheme (e.g., myapp://)',
        deeplinkAppStep2: 'Configure Universal Link / App Link',
        deeplinkAppStep3: 'Implement deep link handler code',
        deeplinkDashboardSetup: 'Dashboard setup:',
        deeplinkDashboardStep1: 'Go to [Settings] â†’ [Deep Link]',
        deeplinkDashboardStep2: 'Enter URI Scheme (same as app)',
        deeplinkDashboardStep3: 'Configure Universal Link domain',
        deeplinkHelpLink: 'ğŸ“š Deep link detailed guide',
        askUserIdentity: 'Do you need to <strong>identify logged-in users</strong>?',
        userIdentityExplain: 'With user identity, you can recognize the same user across multiple devices.',
        userIdentityTip: 'ğŸ’¡ Recommended if your app has login functionality!',
        yesUserIdentity: 'Yes, I need it',
        noUserIdentity: "I'll do it later",
        userIdentityNeeded: 'I need user identification',
        userIdentityNotNeeded: "I'll do it later",
        userIdentityAdded: "âœ… I'll include user identity setup in the template.",
        userIdentityTitle: 'ğŸ‘¤ User Identity Setup',
        userIdentityDesc: "Just send the user's unique ID to Airbridge on login.",
        userIdentityCode: 'Call on login success:',
        userIdentityDashboard: 'Verify in dashboard:',
        userIdentityDashboardStep1: 'Go to [Raw Data] â†’ [App Real-time Log]',
        userIdentityDashboardStep2: 'Click event â†’ Check ID in User info',
        userIdentityHelpLink: 'ğŸ“š User identity detailed guide',
        summaryItem: 'Item',
        summarySetting: 'Setting',
        summaryPlatform: 'Platform',
        summaryiOS: 'iOS Support',
        summaryEvents: 'Events',
        summaryRevenue: 'Revenue Tracking',
        summaryDeeplink: 'Deep Link',
        summaryUserIdentity: 'User Identity',
        summaryATT: 'ATT Setup',
        yes: 'Yes',
        no: 'No',
        pasteToClaudeCode: 'Paste the template below into <strong>AI (Claude, ChatGPT, etc.)</strong>:',
        sendToDevTeam: 'Send the <strong>requirements spec</strong> below to your dev team:',
        copy: 'Copy',
        copied: 'Copied!',
        verificationTitle: '<strong>ğŸ” Please verify after integration!</strong>',
        verificationExplain: 'You can verify SDK integration directly in the dashboard.',
        realtimeLogTitle: 'Verify with Real-time Log',
        verifyStep1: 'Run your app (simulator or real device)',
        verifyStep2: 'Go to <a href="https://app.airbridge.io" target="_blank">app.airbridge.io</a>',
        verifyStep3: 'Click <strong>[Raw Data]</strong> in the left menu',
        verifyStep4: 'Select <strong>[App Real-time Log]</strong>',
        verifyStep5: 'Trigger events in app and check logs',
        verifySuccess: 'âœ… Success if events appear within 1-2 seconds!',
        verifyDelay: 'âš ï¸ May take up to 10 minutes. Please wait a moment.',
        dashboardVerifyTitle: 'ğŸ“Š Verify in Dashboard',
        dashboardVerifyPath: '[Raw Data] â†’ [App Real-time Log]',
        dashboardVerifyDesc: 'You can check event names, user info, timestamps, etc.',
        eventNotShowing: "Events aren't showing",
        troubleshootTitle: '<strong>Troubleshooting checklist:</strong>',
        troubleshoot1: 'Is the SDK token correct? (Try copying from dashboard again)',
        troubleshoot2: 'Does App Name exactly match the dashboard?',
        troubleshoot3: 'Is the event call code being executed? (Check logs)',
        troubleshoot4: 'Is the device connected to the internet?',
        troubleshoot5: 'Is the app running in foreground, not background?',
        askClaudeCode: 'Ask AI like this:',
        askDevTeam: '<strong>Request to dev team:</strong>',
        nextStepsBtn: 'Next Steps',
        restartBtn: 'Start Over',
        nextStepsTitle: '<strong>Things to do after integration:</strong>',
        channelIntegration: '<strong>Connect Ad Channels</strong><br>Dashboard [Integrations] â†’ [Ad Channel]',
        trackingLink: '<strong>Create Tracking Links</strong><br>Dashboard [Tracking Link]',
        skanSetup: '<strong>SKAN Setup (iOS)</strong><br>[Settings] â†’ [SKAN]',
        deeplinkDomain: '<strong>Deep Link Domain Setup</strong><br>[Settings] â†’ [Deep Link]',
        waitData: '<strong>Wait 1-2 days</strong><br>Check reports after collecting enough data',
        congrats: 'Great job! ğŸ‰',
        congratsSubtitle: 'Airbridge integration is complete.',
        helpCenter: 'ğŸ“š Airbridge Help Center',
        onPayment: 'On payment completion',
        onProductView: 'On product detail view',
        onAddToCart: 'On add to cart',
        onAction: 'On action',
        verifyBeforeProceed: 'Please verify before proceeding:',
        verifyAppRegistration: 'Verify App Registration',
        verifyAppCheck1: 'Can you see your app in dashboard?',
        verifyAppCheck2: 'Is App Name correct?',
        verifyAppCheck3: 'Can you access the Settings menu?',
        verifyConfirmBtn: 'All verified âœ…',
        verifyHelpBtn: 'Need help',
        tokenValid: 'âœ… Token format is valid',
        tokenInvalid: 'âš ï¸ Please check token format (32 alphanumeric characters)',
        tokenVerifyTitle: 'SDK Token Verification',
        tokenVerifyDesc: 'Verify the token matches your dashboard',
        tokenVerifyStep1: 'app.airbridge.io â†’ Select app',
        tokenVerifyStep2: 'Settings (âš™ï¸) â†’ Tokens tab',
        tokenVerifyStep3: 'Verify SDK Token matches',
        tokenMismatchWarning: 'Events will not be sent if token is incorrect',
        iOSSettingsTitle: 'ğŸ iOS Additional Settings',
        iOSSettingsDesc: "Since iOS 14, Apple's privacy policies require additional settings.",
        attTitle: 'ATT (App Tracking Transparency)',
        attDesc: 'A popup asking users to allow tracking. Essential for ad measurement!',
        attStep1: 'Add NSUserTrackingUsageDescription to Info.plist',
        attStep2: 'Implement ATT permission request code',
        attStep3: 'Pass ATT response to Airbridge SDK',
        skanTitle: 'SKAN (SKAdNetwork)',
        skanDesc: "Apple's alternative for measuring ad performance even when ATT is denied.",
        skanStep1: 'Add SKAdNetworkItems to Info.plist',
        skanStep2: 'Configure in dashboard [Settings] â†’ [SKAN]',
        iOSHelpLink: 'ğŸ“š iOS settings detailed guide',
        gotItInclude: 'Got it, include these',
        checkingDashboard: 'Check Dashboard Settings',
        dashboardCheckTitle: 'ğŸ“‹ Dashboard Settings Checklist',
        dashboardCheckDesc: 'Please verify the following items are properly configured in the dashboard.'
      }
    };

    function getText(key) {
      return t[state.language]?.[key] || t.ko[key] || key;
    }

    function getHelpLink(path = '') {
      const base = state.language === 'en'
        ? 'https://help.airbridge.io/en'
        : 'https://help.airbridge.io/ko';
      return path ? `${base}${path}` : base;
    }

    const chatMessages = document.getElementById('chatMessages');

    // ========== UTILITIES ==========
    const delay = ms => new Promise(r => setTimeout(r, ms));

    function scrollToBottom() {
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function updateProgress(step) {
      document.getElementById('progressFill').style.width = `${(step / 4) * 100}%`;
      for (let i = 1; i <= 4; i++) {
        const el = document.getElementById(`step${i}`);
        el.classList.remove('active', 'completed');
        if (i < step) el.classList.add('completed');
        if (i === step) el.classList.add('active');
      }
    }

    function showTyping() {
      const div = document.createElement('div');
      div.className = 'message bot-message';
      div.id = 'typingIndicator';
      div.innerHTML = `
        <div class="bot-avatar">ğŸ¤–</div>
        <div class="bot-bubble">
          <div class="typing-indicator">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
          </div>
        </div>
      `;
      chatMessages.appendChild(div);
      scrollToBottom();
    }

    function hideTyping() {
      const el = document.getElementById('typingIndicator');
      if (el) el.remove();
    }

    async function addBot(content, options = {}) {
      showTyping();
      await delay(options.delay || 600);
      hideTyping();

      const div = document.createElement('div');
      div.className = 'message bot-message';
      div.innerHTML = `
        <div class="bot-avatar">ğŸ¤–</div>
        <div class="bot-bubble">${content}</div>
      `;
      chatMessages.appendChild(div);
      scrollToBottom();
    }

    function addUser(text) {
      const div = document.createElement('div');
      div.className = 'message user-message';
      div.innerHTML = `<div class="user-bubble">${text}</div>`;
      chatMessages.appendChild(div);
      scrollToBottom();
    }

    function copyToClipboard(text, btn) {
      navigator.clipboard.writeText(text).then(() => {
        const originalText = btn.textContent;
        btn.textContent = getText('copied');
        btn.classList.add('copied');
        setTimeout(() => {
          btn.textContent = getText('copy');
          btn.classList.remove('copied');
        }, 2000);
      });
    }

    function toggleExpandable(el) {
      const header = el;
      const content = header.nextElementSibling;
      header.classList.toggle('open');
      content.classList.toggle('open');
    }

    // ========== FLOW: LANGUAGE SELECTION ==========
    async function startChat() {
      await delay(500);
      await addBot(`
        <p style="text-align: center; margin-bottom: 8px;">
          <strong>ì–¸ì–´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</strong><br>
          <span style="color: #64748b;">Select your language</span>
        </p>
        <div class="options-container">
          <button class="option-btn" onclick="selectLanguage('ko')">
            <span class="option-icon">ğŸ‡°ğŸ‡·</span>í•œêµ­ì–´
          </button>
          <button class="option-btn" onclick="selectLanguage('en')">
            <span class="option-icon">ğŸ‡ºğŸ‡¸</span>English
          </button>
        </div>
      `);
    }

    async function selectLanguage(lang) {
      state.language = lang;
      addUser(lang === 'ko' ? 'í•œêµ­ì–´' : 'English');
      document.querySelector('.chat-header-text h1').textContent = getText('headerTitle');
      document.querySelector('.chat-header-text p').textContent = getText('headerSubtitle');
      document.getElementById('step1').textContent = getText('step1');
      document.getElementById('step2').textContent = getText('step2');
      document.getElementById('step3').textContent = getText('step3');
      document.getElementById('step4').textContent = getText('step4');
      await showWelcome();
    }

    // ========== FLOW: PHASE 1 - CORE SETUP ==========
    async function showWelcome() {
      await addBot(`
        <p>${getText('welcome1')}</p>
        <p>${getText('welcome2')}</p>
        <p>${getText('welcome3')}</p>
        <div class="info-box">${getText('welcomeTip')}</div>
      `);

      await addBot(`
        <p>${getText('askAppRegistered')}</p>
        <div class="options-container">
          <button class="option-btn" onclick="checkAppRegistered(true)">
            <span class="option-icon">âœ…</span>
            <span>${getText('yesRegistered')}</span>
          </button>
          <button class="option-btn" onclick="checkAppRegistered(false)">
            <span class="option-icon">ğŸ“</span>
            <span>${getText('notYet')}</span>
          </button>
        </div>
      `, { delay: 800 });

      updateProgress(1);
    }

    async function checkAppRegistered(registered) {
      if (registered) {
        state.appRegistered = true;
        addUser(getText('yesRegistered'));
        await showAppRegistrationVerification();
      } else {
        addUser(getText('notYet'));
        await addBot(`
          <p>${getText('registerFirst')}</p>
          <div class="step-box">
            <h4>${getText('registerStepTitle')}</h4>
            <ol>
              <li>
                ${getText('registerStep1')}
                <div class="step-detail">${getText('registerStep1Detail')}</div>
              </li>
              <li>
                ${getText('registerStep2')}
                <div class="step-detail">${getText('registerStep2Detail')}</div>
              </li>
              <li>
                ${getText('registerStep3')}
                <div class="step-detail">${getText('registerStep3Detail')}</div>
              </li>
            </ol>
          </div>
          <div class="error-box">
            ${getText('unchangeableWarning')}<br>
            ${getText('unchangeableItems')}
          </div>
          <div class="info-box">
            ${getText('testAppTip')}
          </div>
          <div class="btn-row" style="margin-top: 16px;">
            <a href="https://app.airbridge.io" target="_blank" class="submit-btn secondary" style="text-decoration: none; text-align: center;">${getText('verifyHelpBtn')}</a>
            <button class="submit-btn" onclick="checkAppRegistered(true)">${getText('registrationDone')}</button>
          </div>
        `);
      }
    }

    async function showAppRegistrationVerification() {
      await addBot(`
        <p><strong>${getText('verifyAppRegistration')}</strong></p>
        <p>${getText('verifyBeforeProceed')}</p>
        <div class="checklist" id="appVerifyChecklist">
          <label class="checklist-item">
            <input type="checkbox" class="verify-check" onchange="updateVerifyButton('appVerify')">
            <span class="icon">â˜</span>
            <span class="content">${getText('verifyAppCheck1')}</span>
          </label>
          <label class="checklist-item">
            <input type="checkbox" class="verify-check" onchange="updateVerifyButton('appVerify')">
            <span class="icon">â˜</span>
            <span class="content">${getText('verifyAppCheck2')}</span>
          </label>
          <label class="checklist-item">
            <input type="checkbox" class="verify-check" onchange="updateVerifyButton('appVerify')">
            <span class="icon">â˜</span>
            <span class="content">${getText('verifyAppCheck3')}</span>
          </label>
        </div>
        <div class="btn-row" style="margin-top: 12px;">
          <a href="${getHelpLink('/developers/getting-started')}" target="_blank" class="submit-btn help-btn" style="text-decoration: none; text-align: center;">ğŸ” ${getText('verifyHelpBtn')}</a>
          <button class="submit-btn" id="appVerifyBtn" onclick="confirmAppRegistration()" disabled>${getText('verifyConfirmBtn')}</button>
        </div>
      `);
    }

    function updateVerifyButton(type) {
      const container = document.getElementById(type + 'Checklist');
      const checkboxes = container.querySelectorAll('.verify-check');
      const allChecked = Array.from(checkboxes).every(cb => cb.checked);
      const btn = document.getElementById(type + 'Btn');
      if (btn) btn.disabled = !allChecked;
      checkboxes.forEach(cb => {
        const icon = cb.parentElement.querySelector('.icon');
        icon.textContent = cb.checked ? 'âœ…' : 'â˜';
      });
    }

    async function confirmAppRegistration() {
      addUser(getText('verifyConfirmBtn'));
      const msg = state.language === 'en' ? 'App registration verified!' : 'ì•± ë“±ë¡ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!';
      await addBot(`<div class="success-box">âœ… ${msg}</div>`);
      await askAppMode();
    }

    async function askAppMode() {
      await addBot(`
        <p>${getText('askAppMode')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('appModeExplain')}</p>
        <div class="warning-box">${getText('appModeWarning')}</div>
        <div class="options-container" style="margin-top: 12px;">
          <button class="option-btn" onclick="selectAppMode('production')">
            <span class="option-icon">ğŸš€</span>
            <div class="option-btn-content">
              <strong>${getText('productionMode')}</strong>
              <p>${getText('productionModeDesc')}</p>
            </div>
          </button>
          <button class="option-btn" onclick="selectAppMode('development')">
            <span class="option-icon">ğŸ”§</span>
            <div class="option-btn-content">
              <strong>${getText('developmentMode')}</strong>
              <p>${getText('developmentModeDesc')}</p>
            </div>
          </button>
        </div>
        <div class="expandable" style="margin-top: 12px;">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <h5>â“ ${getText('modeHelpTitle')}</h5>
            <span class="arrow">â–¼</span>
          </div>
          <div class="expandable-content">
            <p style="font-size: 13px; color: #475569; line-height: 1.6;">${getText('modeHelpContent')}</p>
          </div>
        </div>
      `);
    }

    async function selectAppMode(mode) {
      state.appMode = mode;
      addUser(mode === 'production' ? getText('selectedProduction') : getText('selectedDevelopment'));
      await addBot(`<div class="success-box">${mode === 'production' ? getText('productionTip') : getText('developmentTip')}</div>`);
      await askImplementationMethod();
    }

    async function askImplementationMethod() {
      await addBot(`
        <p>${getText('askImplementation')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('implExplain')}</p>
        <div class="options-container">
          <button class="option-btn" onclick="selectImplementationMethod('ai')">
            <span class="option-icon">ğŸ¤–</span>
            <div class="option-btn-content">
              <strong>${getText('implAI')}</strong>
              <p>${getText('implAIDesc')}</p>
            </div>
          </button>
          <button class="option-btn" onclick="selectImplementationMethod('devteam')">
            <span class="option-icon">ğŸ‘¥</span>
            <div class="option-btn-content">
              <strong>${getText('implDevTeam')}</strong>
              <p>${getText('implDevTeamDesc')}</p>
            </div>
          </button>
        </div>
      `);
    }

    async function selectImplementationMethod(method) {
      state.implementationMethod = method;
      addUser(method === 'ai' ? getText('implAISelected') : getText('implDevTeamSelected'));
      await addBot(`<div class="success-box">${method === 'ai' ? getText('implAIResponse') : getText('implDevTeamResponse')}</div>`);
      await askPlatform();
    }

    async function askPlatform() {
      await addBot(`
        <p>${getText('askPlatform')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('platformExplain')}</p>
        <div class="options-container">
          <button class="option-btn" onclick="selectPlatform('Flutter')">
            <span class="option-icon">ğŸ’™</span>Flutter
          </button>
          <button class="option-btn" onclick="selectPlatform('React Native')">
            <span class="option-icon">âš›ï¸</span>React Native
          </button>
          <button class="option-btn" onclick="selectPlatform('iOS')">
            <span class="option-icon">ğŸ</span>iOS (Swift)
          </button>
          <button class="option-btn" onclick="selectPlatform('Android')">
            <span class="option-icon">ğŸ¤–</span>Android (Kotlin)
          </button>
        </div>
      `);
    }

    async function selectPlatform(platform) {
      state.platform = platform;
      addUser(platform);
      if (platform === 'Flutter' || platform === 'React Native') {
        await askIOSSupport();
      } else if (platform === 'iOS') {
        state.hasIOS = true;
        await askSDKToken();
      } else {
        state.hasIOS = false;
        await askSDKToken();
      }
    }

    async function askIOSSupport() {
      await addBot(`
        <p>${getText('askiOSSupport')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('iOSExplain')}</p>
        <div class="info-box">${getText('iOSTip')}</div>
        <div class="options-row" style="margin-top: 12px;">
          <button class="option-btn" onclick="setIOSSupport(true)">
            <span class="option-icon">ğŸ</span>${getText('yesiOS')}
          </button>
          <button class="option-btn" onclick="setIOSSupport(false)">
            <span class="option-icon">ğŸ¤–</span>${getText('androidOnly')}
          </button>
        </div>
      `);
    }

    async function setIOSSupport(hasIOS) {
      state.hasIOS = hasIOS;
      addUser(hasIOS ? getText('yesiOS') : getText('androidOnly'));
      await askSDKToken();
    }

    async function askSDKToken() {
      await addBot(`
        <p>${getText('askSDKToken')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('tokenExplain')}</p>
        <div class="step-box">
          <h4>${getText('tokenLocationTitle')}</h4>
          <ol>
            <li>${getText('tokenStep1')}</li>
            <li>${getText('tokenStep2')}</li>
            <li>${getText('tokenStep3')}</li>
            <li>${getText('tokenStep4')}</li>
          </ol>
        </div>
        <div class="input-container">
          <input type="text" class="input-field" id="appNameInput" placeholder="${getText('appNamePlaceholder')}">
          <p style="font-size: 11px; color: #64748b; margin: -4px 0 8px 4px;">${getText('appNameHelp')}</p>
          <input type="text" class="input-field" id="sdkTokenInput" placeholder="${getText('sdkTokenPlaceholder')}">
          <div class="btn-row">
            <a href="${getHelpLink('/developers/sdk-quickstart')}" target="_blank" class="submit-btn help-btn" style="text-decoration: none; text-align: center; flex: 0 0 auto; padding: 12px;">ğŸ” ${getText('verifyHelpBtn')}</a>
            <button class="submit-btn" onclick="submitSDKToken()">${getText('next')}</button>
          </div>
        </div>
      `);
    }

    async function submitSDKToken() {
      const appName = document.getElementById('appNameInput').value.trim();
      const token = document.getElementById('sdkTokenInput').value.trim();
      if (!appName || !token) {
        alert(state.language === 'ko' ? 'App Nameê³¼ SDK Tokenì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.' : 'Please enter both App Name and SDK Token.');
        return;
      }
      const tokenRegex = /^[a-f0-9]{32}$/i;
      const isValidFormat = tokenRegex.test(token);
      state.appName = appName;
      state.sdkToken = token;
      addUser(`${appName} / ${token.slice(0, 8)}...`);
      await showTokenVerification(isValidFormat);
    }

    async function showTokenVerification(isValidFormat) {
      const validMsg = isValidFormat ? getText('tokenValid') : getText('tokenInvalid');
      const validClass = isValidFormat ? 'success-box' : 'warning-box';
      const tokenLabel = state.language === 'en' ? 'Your entered token' : 'ì…ë ¥í•œ í† í°';
      const appNameLabel = state.language === 'en' ? 'App Name' : 'ì•± ì´ë¦„';
      await addBot(`
        <div class="${validClass}">${validMsg}</div>
        <div class="dashboard-guide" style="margin-top: 12px;">
          <h4>ğŸ” ${getText('tokenVerifyTitle')}</h4>
          <p style="margin-bottom: 8px;">${getText('tokenVerifyDesc')}</p>
          <div style="background: #f1f5f9; border-radius: 8px; padding: 12px; margin-bottom: 12px;">
            <p style="font-size: 12px; color: #64748b; margin-bottom: 4px;">${appNameLabel}:</p>
            <p style="font-family: monospace; font-size: 14px; color: #1e293b; font-weight: 600;">${state.appName}</p>
            <p style="font-size: 12px; color: #64748b; margin-bottom: 4px; margin-top: 8px;">${tokenLabel}:</p>
            <p style="font-family: monospace; font-size: 14px; color: #1e293b; font-weight: 600; word-break: break-all;">${state.sdkToken}</p>
          </div>
          <div class="path">${getText('tokenVerifyStep1')} â†’ ${getText('tokenVerifyStep2')}</div>
          <div class="checklist" id="tokenVerifyChecklist">
            <label class="checklist-item">
              <input type="checkbox" class="verify-check" onchange="updateVerifyButton('tokenVerify')">
              <span class="icon">â˜</span>
              <span class="content">${getText('tokenVerifyStep3')}</span>
            </label>
          </div>
          <div class="warning-box" style="margin-top: 8px; font-size: 12px;">
            âš ï¸ ${getText('tokenMismatchWarning')}
          </div>
        </div>
        <div class="btn-row" style="margin-top: 12px;">
          <a href="${getHelpLink('/developers/sdk-quickstart')}" target="_blank" class="submit-btn help-btn" style="text-decoration: none; text-align: center;">ğŸ” ${getText('verifyHelpBtn')}</a>
          <button class="submit-btn" id="tokenVerifyBtn" onclick="confirmTokenVerification()" disabled>${getText('verifyConfirmBtn')}</button>
        </div>
      `);
    }

    async function confirmTokenVerification() {
      addUser(getText('verifyConfirmBtn'));
      await addBot(`<div class="success-box">${getText('basicInfoDone')}</div>`);
      updateProgress(2);
      await askBasicEvents();
    }

    // ========== FLOW: PHASE 2 - EVENTS ==========
    async function askBasicEvents() {
      await addBot(`
        <p>${getText('askEvents')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('eventsExplain')}</p>
        <div class="info-box">${getText('basicEventsIncluded')}</div>
        <div class="checklist">
          <div class="checklist-item done">
            <span class="icon">âœ…</span>
            <span class="content">${getText('signUp')} (sign_up)</span>
          </div>
          <div class="checklist-item done">
            <span class="icon">âœ…</span>
            <span class="content">${getText('signIn')} (sign_in)</span>
          </div>
        </div>
      `);
      state.events = [
        { name: getText('signUp'), category: 'sign_up' },
        { name: getText('signIn'), category: 'sign_in' }
      ];
      await askRevenueEvents();
    }

    async function askRevenueEvents() {
      await addBot(`
        <p>${getText('askRevenue')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('revenueExplain')}</p>
        <div class="info-box">${getText('revenueTip')}</div>
        <div class="options-row" style="margin-top: 12px;">
          <button class="option-btn" onclick="setRevenueEvents(true)">
            <span class="option-icon">ğŸ’°</span>${getText('yesNeed')}
          </button>
          <button class="option-btn" onclick="setRevenueEvents(false)">
            <span class="option-icon">â­ï¸</span>${getText('skip')}
          </button>
        </div>
      `);
    }

    async function setRevenueEvents(needed) {
      state.needsRevenue = needed;
      addUser(needed ? getText('revenueNeeded') : getText('skipped'));
      if (needed) {
        state.events.push(
          { name: getText('productViewed'), category: 'product_viewed' },
          { name: getText('addToCart'), category: 'add_to_cart' },
          { name: getText('orderCompleted'), category: 'order_completed' }
        );
        await addBot(`
          <p>${getText('revenueAdded')}</p>
          <div class="checklist">
            <div class="checklist-item done"><span class="icon">âœ…</span><span class="content">${getText('productViewed')} (product_viewed)</span></div>
            <div class="checklist-item done"><span class="icon">âœ…</span><span class="content">${getText('addToCart')} (add_to_cart)</span></div>
            <div class="checklist-item done"><span class="icon">âœ…</span><span class="content">${getText('orderCompleted')} (order_completed)</span></div>
          </div>
        `);
      }
      await askAdditionalEvents();
    }

    async function askAdditionalEvents() {
      await addBot(`
        <p>${getText('askAdditionalEvents')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('additionalEventsExplain')}</p>
        <div class="options-row" style="margin-top: 12px;">
          <button class="option-btn" onclick="addCustomEvents()">
            <span class="option-icon">â•</span>${getText('addCustom')}
          </button>
          <button class="option-btn" onclick="skipAdditionalEvents()">
            <span class="option-icon">âœ…</span>${getText('enough')}
          </button>
        </div>
      `);
    }

    async function addCustomEvents() {
      addUser(getText('addCustom'));
      await addBot(`
        <p>${getText('customEventTitle')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('customEventDesc')}</p>
        <div class="input-container">
          <textarea class="input-field" id="customEventsInput" placeholder="${getText('customEventPlaceholder')}"></textarea>
          <div class="btn-row">
            <button class="submit-btn secondary" onclick="skipAdditionalEvents()">${getText('skip')}</button>
            <button class="submit-btn" onclick="submitCustomEvents()">${getText('addEvents')}</button>
          </div>
        </div>
      `);
    }

    async function submitCustomEvents() {
      const input = document.getElementById('customEventsInput').value.trim();
      if (input) {
        const lines = input.split('\n').filter(l => l.trim());
        const newEvents = lines.map(line => {
          const [name, category] = line.split(',').map(s => s.trim());
          return { name, category: category || name.toLowerCase().replace(/\s+/g, '_') };
        });
        state.events.push(...newEvents);
        addUser(state.language === 'en' ? `${newEvents.length} events added` : `${newEvents.length}ê°œ ì´ë²¤íŠ¸ ì¶”ê°€`);
      }
      await goToPhase3();
    }

    async function skipAdditionalEvents() {
      addUser(getText('enough'));
      await goToPhase3();
    }

    // ========== FLOW: PHASE 3 - CONDITIONAL FEATURES ==========
    async function goToPhase3() {
      updateProgress(3);
      const msg = state.language === 'en'
        ? "Events configured! ğŸ‰ Now let's check if you need <strong>additional features</strong>."
        : "ì´ë²¤íŠ¸ ì„¤ì • ì™„ë£Œ! ğŸ‰ ì´ì œ <strong>ì¶”ê°€ ê¸°ëŠ¥ì´ í•„ìš”í•œì§€</strong> í™•ì¸í• ê²Œìš”.";
      await addBot(`<div class="success-box">${msg}</div>`);
      await askAdsQuestion();
    }

    async function askAdsQuestion() {
      await addBot(`
        <p>${getText('askAds')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('adsExplain')}</p>
        <div class="info-box">${getText('adsTip')}</div>
        <div class="options-row" style="margin-top: 12px;">
          <button class="option-btn" onclick="setAdsUsage(true)">
            <span class="option-icon">ğŸ“¢</span>${getText('yesAds')}
          </button>
          <button class="option-btn" onclick="setAdsUsage(false)">
            <span class="option-icon">ğŸš«</span>${getText('noAds')}
          </button>
        </div>
      `);
    }

    async function setAdsUsage(hasAds) {
      state.hasAds = hasAds;
      addUser(hasAds ? getText('adsYes') : getText('adsNo'));
      if (hasAds) {
        await addBot(`
          <div class="feature-card">
            <div class="feature-card-header">
              <span class="icon">ğŸ“Š</span>
              <h5>${getText('attributionTitle')}</h5>
            </div>
            <p>${getText('attributionDesc')}</p>
            <div class="detail-steps">
              <p style="font-weight: 600; margin-bottom: 8px; font-size: 12px;">${getText('attributionSteps')}:</p>
              <ol>
                <li>${getText('attributionStep1')}</li>
                <li>${getText('attributionStep2')}</li>
                <li>${getText('attributionStep3')}</li>
                <li>${getText('attributionStep4')}</li>
              </ol>
            </div>
            <a href="${getHelpLink('/guides/airbridge-attribution-model')}" target="_blank" class="help-link">${getText('attributionHelpLink')} â†’</a>
          </div>
        `);
      }
      await askDeeplinkQuestion();
    }

    async function askDeeplinkQuestion() {
      await addBot(`
        <p>${getText('askDeeplink')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('deeplinkExplain')}</p>
        <div class="info-box">
          <strong>${state.language === 'en' ? 'Example:' : 'ì˜ˆì‹œ:'}</strong> ${getText('deeplinkExample')}
        </div>
        <div class="info-box" style="background: #f0fdf4; border-color: #22c55e; color: #166534;">${getText('deeplinkTip')}</div>
        <div class="options-row" style="margin-top: 12px;">
          <button class="option-btn" onclick="setDeeplinkUsage(true)">
            <span class="option-icon">ğŸ”—</span>${getText('yesDeeplink')}
          </button>
          <button class="option-btn" onclick="setDeeplinkUsage(false)">
            <span class="option-icon">â­ï¸</span>${getText('noDeeplink')}
          </button>
        </div>
      `);
    }

    async function setDeeplinkUsage(needed) {
      state.needsDeeplink = needed;
      addUser(needed ? getText('deeplinkNeeded') : getText('noDeeplink'));
      if (needed) {
        await addBot(`
          <div class="feature-card">
            <div class="feature-card-header">
              <span class="icon">ğŸ”—</span>
              <h5>${getText('deeplinkTitle')}</h5>
            </div>
            <p>${getText('deeplinkDesc')}</p>
            <div class="detail-steps">
              <p style="font-weight: 600; margin-bottom: 8px; font-size: 12px;">${getText('deeplinkAppSetup')}</p>
              <ol>
                <li>${getText('deeplinkAppStep1')}</li>
                <li>${getText('deeplinkAppStep2')}</li>
                <li>${getText('deeplinkAppStep3')}</li>
              </ol>
            </div>
            <div class="detail-steps" style="margin-top: 8px;">
              <p style="font-weight: 600; margin-bottom: 8px; font-size: 12px;">${getText('deeplinkDashboardSetup')}</p>
              <ol>
                <li>${getText('deeplinkDashboardStep1')}</li>
                <li>${getText('deeplinkDashboardStep2')}</li>
                <li>${getText('deeplinkDashboardStep3')}</li>
              </ol>
            </div>
            <a href="${getHelpLink('/guides/understanding-deep-link')}" target="_blank" class="help-link">${getText('deeplinkHelpLink')} â†’</a>
          </div>
        `);
      }
      await askUserIdentityQuestion();
    }

    async function askUserIdentityQuestion() {
      await addBot(`
        <p>${getText('askUserIdentity')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('userIdentityExplain')}</p>
        <div class="info-box">${getText('userIdentityTip')}</div>
        <div class="options-row" style="margin-top: 12px;">
          <button class="option-btn" onclick="setUserIdentityUsage(true)">
            <span class="option-icon">ğŸ‘¤</span>${getText('yesUserIdentity')}
          </button>
          <button class="option-btn" onclick="setUserIdentityUsage(false)">
            <span class="option-icon">â­ï¸</span>${getText('noUserIdentity')}
          </button>
        </div>
      `);
    }

    async function setUserIdentityUsage(needed) {
      state.needsUserIdentity = needed;
      addUser(needed ? getText('userIdentityNeeded') : getText('noUserIdentity'));
      if (needed) {
        await addBot(`
          <div class="feature-card">
            <div class="feature-card-header">
              <span class="icon">ğŸ‘¤</span>
              <h5>${getText('userIdentityTitle')}</h5>
            </div>
            <p>${getText('userIdentityDesc')}</p>
            <div class="detail-steps">
              <p style="font-weight: 600; margin-bottom: 8px; font-size: 12px;">${getText('userIdentityDashboard')}</p>
              <ol>
                <li>${getText('userIdentityDashboardStep1')}</li>
                <li>${getText('userIdentityDashboardStep2')}</li>
              </ol>
            </div>
            <a href="${getHelpLink('/guides/identifiers')}" target="_blank" class="help-link">${getText('userIdentityHelpLink')} â†’</a>
          </div>
        `);
      }
      if (state.hasIOS) {
        await askIOSSpecificQuestions();
      } else {
        await generateFinalTemplate();
      }
    }

    async function askIOSSpecificQuestions() {
      await addBot(`
        <div class="feature-card" style="border-color: #f97316;">
          <div class="feature-card-header">
            <span class="icon">ğŸ</span>
            <h5>${getText('iOSSettingsTitle')}</h5>
          </div>
          <p>${getText('iOSSettingsDesc')}</p>

          <div class="expandable" style="margin-top: 12px; border-color: #fed7aa;">
            <div class="expandable-header" onclick="toggleExpandable(this)" style="background: #fff7ed;">
              <h5>ğŸ“± ${getText('attTitle')}</h5>
              <span class="arrow">â–¼</span>
            </div>
            <div class="expandable-content">
              <p style="font-size: 13px; color: #475569; margin-bottom: 8px;">${getText('attDesc')}</p>
              <div class="detail-steps">
                <ol>
                  <li>${getText('attStep1')}</li>
                  <li>${getText('attStep2')}</li>
                  <li>${getText('attStep3')}</li>
                </ol>
              </div>
            </div>
          </div>

          <div class="expandable" style="margin-top: 8px; border-color: #fed7aa;">
            <div class="expandable-header" onclick="toggleExpandable(this)" style="background: #fff7ed;">
              <h5>ğŸ“Š ${getText('skanTitle')}</h5>
              <span class="arrow">â–¼</span>
            </div>
            <div class="expandable-content">
              <p style="font-size: 13px; color: #475569; margin-bottom: 8px;">${getText('skanDesc')}</p>
              <div class="detail-steps">
                <ol>
                  <li>${getText('skanStep1')}</li>
                  <li>${getText('skanStep2')}</li>
                </ol>
              </div>
            </div>
          </div>

          <a href="${getHelpLink('/developers/ios-sdk-v4')}" target="_blank" class="help-link">${getText('iOSHelpLink')} â†’</a>
        </div>
        <div style="margin-top: 12px;">
          <button class="submit-btn" onclick="confirmIOSSettings()">âœ… ${getText('gotItInclude')}</button>
        </div>
      `);
    }

    async function confirmIOSSettings() {
      addUser(getText('gotItInclude'));
      await addBot(`<div class="success-box">${state.language === 'en' ? 'âœ… iOS settings will be included in the template.' : 'âœ… iOS ì„¤ì •ì„ í…œí”Œë¦¿ì— í¬í•¨í• ê²Œìš”.'}</div>`);
      await generateFinalTemplate();
    }

    // ========== FLOW: PHASE 4 - GENERATE TEMPLATE ==========
    async function generateFinalTemplate() {
      updateProgress(4);
      await addBot(`<div class="success-box">${state.language === 'en' ? 'Configuration complete! ğŸ‰' : 'ì„¤ì • í™•ì¸ ì™„ë£Œ! ğŸ‰'}</div>`);

      const evtCount = state.language === 'en' ? `${state.events.length}` : `${state.events.length}ê°œ`;
      const yesNo = (val) => val ? `âœ… ${getText('yes')}` : `âŒ ${getText('no')}`;
      let summaryHTML = `<table class="summary-table">
        <tr><th>${getText('summaryItem')}</th><th>${getText('summarySetting')}</th></tr>
        <tr><td>${getText('summaryPlatform')}</td><td>${state.platform}</td></tr>
        <tr><td>${getText('summaryiOS')}</td><td>${yesNo(state.hasIOS)}</td></tr>
        <tr><td>${getText('summaryEvents')}</td><td>${evtCount}</td></tr>
        <tr><td>${getText('summaryRevenue')}</td><td>${state.needsRevenue ? 'âœ…' : 'âŒ'}</td></tr>
        <tr><td>${getText('summaryDeeplink')}</td><td>${state.needsDeeplink ? 'âœ…' : 'âŒ'}</td></tr>
        <tr><td>${getText('summaryUserIdentity')}</td><td>${state.needsUserIdentity ? 'âœ…' : 'âŒ'}</td></tr>
        ${state.hasIOS ? `<tr><td>${getText('summaryATT')}</td><td>âœ…</td></tr>` : ''}
      </table>`;
      await addBot(summaryHTML);

      const template = state.implementationMethod === 'ai' ? generateAITemplate() : generateDevTeamSpec();
      const outputLabel = state.implementationMethod === 'ai' ? getText('pasteToClaudeCode') : getText('sendToDevTeam');
      await addBot(`
        <p>${outputLabel}</p>
        <div class="code-block" id="finalTemplate">
          <button class="copy-btn" onclick="copyToClipboard(document.getElementById('finalTemplate').innerText.replace('${getText('copy')}', '').replace('${getText('copied')}', '').trim(), this)">${getText('copy')}</button>
${template}
        </div>
      `, { delay: 800 });

      await showDashboardVerification();
    }

    function generateAITemplate() {
      const isEn = state.language === 'en';
      const eventsSchema = state.events.map(e => {
        const eventObj = { name: e.name, category: e.category, trigger: '', attributes: {} };
        if (e.category === 'order_completed') {
          eventObj.trigger = 'on_payment_complete';
          eventObj.attributes = {
            orderId: { type: 'string', required: true },
            totalValue: { type: 'number', required: true },
            currency: { type: 'string', required: true, example: 'KRW' }
          };
        } else if (e.category === 'product_viewed') {
          eventObj.trigger = 'on_product_view';
          eventObj.attributes = { productId: { type: 'string', required: true } };
        } else if (e.category === 'add_to_cart') {
          eventObj.trigger = 'on_add_to_cart';
          eventObj.attributes = { productId: { type: 'string', required: true }, quantity: { type: 'number', default: 1 } };
        } else {
          eventObj.trigger = 'on_action';
        }
        return eventObj;
      });

      const config = {
        sdk: 'airbridge',
        app_config: { platform: state.platform, app_name: state.appName, sdk_token: state.sdkToken },
        features: { ios_support: state.hasIOS, deep_link: state.needsDeeplink, user_identity: state.needsUserIdentity, revenue_tracking: state.needsRevenue },
        events: eventsSchema,
        documentation: { sdk_guide: getHelpLink('/developers/sdk-quickstart') }
      };

      const intro = isEn ? 'Implement Airbridge SDK integration based on this config:' : 'ì•„ë˜ ì„¤ì •ì„ ê¸°ë°˜ìœ¼ë¡œ Airbridge SDKë¥¼ ì—°ë™í•´ì¤˜:';
      return `${intro}\n\n${JSON.stringify(config, null, 2)}`;
    }

    function generateDevTeamSpec() {
      const isEn = state.language === 'en';
      const today = new Date().toLocaleDateString(isEn ? 'en-US' : 'ko-KR');
      let spec = isEn
        ? `ğŸ“‹ AIRBRIDGE SDK INTEGRATION SPEC\nDate: ${today}\n\nğŸ“± APP INFO\nâ€¢ Platform: ${state.platform}\nâ€¢ App Name: ${state.appName}\nâ€¢ SDK Token: ${state.sdkToken}\nâ€¢ iOS Support: ${state.hasIOS ? 'Yes' : 'No'}`
        : `ğŸ“‹ AIRBRIDGE SDK ì—°ë™ ëª…ì„¸ì„œ\nì‘ì„±ì¼: ${today}\n\nğŸ“± ì•± ì •ë³´\nâ€¢ í”Œë«í¼: ${state.platform}\nâ€¢ ì•± ì´ë¦„: ${state.appName}\nâ€¢ SDK í† í°: ${state.sdkToken}\nâ€¢ iOS ì§€ì›: ${state.hasIOS ? 'ì˜ˆ' : 'ì•„ë‹ˆì˜¤'}`;

      spec += isEn ? `\n\nğŸ“Œ EVENTS TO TRACK (${state.events.length})` : `\n\nğŸ“Œ íŠ¸ë˜í‚¹í•  ì´ë²¤íŠ¸ (${state.events.length}ê°œ)`;
      state.events.forEach((e, i) => { spec += `\n${i + 1}. ${e.name} (${e.category})`; });

      spec += isEn ? `\n\nğŸ“š REFERENCE\nâ€¢ ${getHelpLink('/developers/sdk-quickstart')}` : `\n\nğŸ“š ì°¸ê³  ë¬¸ì„œ\nâ€¢ ${getHelpLink('/developers/sdk-quickstart')}`;
      return spec;
    }

    async function showDashboardVerification() {
      const isEn = state.language === 'en';

      // Dashboard configuration checklist with detailed instructions
      let dashboardChecks = '';
      if (state.hasAds) {
        dashboardChecks += `
          <div class="feature-card" style="margin-bottom: 12px;">
            <div class="feature-card-header">
              <span class="icon">ğŸ“¢</span>
              <h5>${isEn ? 'Ad Channel Integration' : 'ê´‘ê³  ì±„ë„ ì—°ë™'}</h5>
            </div>
            <p>${isEn ? 'Connect your ad channels to measure campaign performance.' : 'ìº í˜ì¸ ì„±ê³¼ë¥¼ ì¸¡ì •í•˜ë ¤ë©´ ê´‘ê³  ì±„ë„ì„ ì—°ë™í•´ì•¼ í•´ìš”.'}</p>
            <div class="detail-steps">
              <ol>
                <li>${isEn ? 'Go to <strong>[Integrations]</strong> in the left menu' : 'ì™¼ìª½ ë©”ë‰´ì—ì„œ <strong>[Integrations]</strong> í´ë¦­'}</li>
                <li>${isEn ? 'Click <strong>[Ad Channel]</strong> tab' : '<strong>[Ad Channel]</strong> íƒ­ ì„ íƒ'}</li>
                <li>${isEn ? 'Find and click your ad channel (Facebook, Google, etc.)' : 'ì‚¬ìš© ì¤‘ì¸ ê´‘ê³  ì±„ë„ ì°¾ì•„ì„œ í´ë¦­ (Facebook, Google ë“±)'}</li>
                <li>${isEn ? 'Enter API credentials from your ad platform' : 'ê´‘ê³  í”Œë«í¼ì—ì„œ ë°œê¸‰ë°›ì€ API ì •ë³´ ì…ë ¥'}</li>
              </ol>
            </div>
            <label class="checklist-item" style="margin-top: 12px; cursor: pointer;">
              <input type="checkbox" class="dashboard-check" onchange="updateDashboardCheckIcon(this)">
              <span class="icon">â˜</span>
              <span class="content">${isEn ? 'Ad channel connected' : 'ê´‘ê³  ì±„ë„ ì—°ë™ ì™„ë£Œ'}</span>
            </label>
          </div>`;
      }
      if (state.needsDeeplink) {
        dashboardChecks += `
          <div class="feature-card" style="margin-bottom: 12px;">
            <div class="feature-card-header">
              <span class="icon">ğŸ”—</span>
              <h5>${isEn ? 'Deep Link Configuration' : 'ë”¥ë§í¬ ì„¤ì •'}</h5>
            </div>
            <p>${isEn ? 'Configure deep link settings to enable direct app navigation.' : 'ì•± ë‚´ íŠ¹ì • í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë ¤ë©´ ë”¥ë§í¬ ì„¤ì •ì´ í•„ìš”í•´ìš”.'}</p>
            <div class="detail-steps">
              <ol>
                <li>${isEn ? 'Go to <strong>[Settings]</strong> in the left menu' : 'ì™¼ìª½ ë©”ë‰´ì—ì„œ <strong>[Settings]</strong> í´ë¦­'}</li>
                <li>${isEn ? 'Click <strong>[Deep Link]</strong>' : '<strong>[Deep Link]</strong> ì„ íƒ'}</li>
                <li>${isEn ? 'Enter your <strong>URI Scheme</strong> (e.g., myapp://)' : '<strong>URI Scheme</strong> ì…ë ¥ (ì˜ˆ: myapp://)'}</li>
                <li>${isEn ? 'Configure Universal Link domain if using iOS' : 'iOSë¼ë©´ Universal Link ë„ë©”ì¸ë„ ì„¤ì •'}</li>
              </ol>
            </div>
            <label class="checklist-item" style="margin-top: 12px; cursor: pointer;">
              <input type="checkbox" class="dashboard-check" onchange="updateDashboardCheckIcon(this)">
              <span class="icon">â˜</span>
              <span class="content">${isEn ? 'Deep link configured' : 'ë”¥ë§í¬ ì„¤ì • ì™„ë£Œ'}</span>
            </label>
          </div>`;
      }
      if (state.hasIOS) {
        dashboardChecks += `
          <div class="feature-card" style="margin-bottom: 12px;">
            <div class="feature-card-header">
              <span class="icon">ğŸ“Š</span>
              <h5>${isEn ? 'SKAN Configuration' : 'SKAN ì„¤ì •'}</h5>
            </div>
            <p>${isEn ? 'Configure SKAdNetwork for iOS ad measurement when ATT is denied.' : 'ATTê°€ ê±°ë¶€ë˜ì–´ë„ iOS ê´‘ê³  ì„±ê³¼ë¥¼ ì¸¡ì •í•˜ë ¤ë©´ SKAN ì„¤ì •ì´ í•„ìš”í•´ìš”.'}</p>
            <div class="detail-steps">
              <ol>
                <li>${isEn ? 'Go to <strong>[Settings]</strong> in the left menu' : 'ì™¼ìª½ ë©”ë‰´ì—ì„œ <strong>[Settings]</strong> í´ë¦­'}</li>
                <li>${isEn ? 'Click <strong>[SKAN]</strong>' : '<strong>[SKAN]</strong> ì„ íƒ'}</li>
                <li>${isEn ? 'Enable SKAN and configure conversion values' : 'SKAN í™œì„±í™” í›„ ì „í™˜ê°’ ì„¤ì •'}</li>
              </ol>
            </div>
            <label class="checklist-item" style="margin-top: 12px; cursor: pointer;">
              <input type="checkbox" class="dashboard-check" onchange="updateDashboardCheckIcon(this)">
              <span class="icon">â˜</span>
              <span class="content">${isEn ? 'SKAN configured' : 'SKAN ì„¤ì • ì™„ë£Œ'}</span>
            </label>
          </div>`;
      }

      if (dashboardChecks) {
        await addBot(`
          <div class="dashboard-guide">
            <h4>${getText('dashboardCheckTitle')}</h4>
            <p style="margin-bottom: 12px;">${getText('dashboardCheckDesc')}</p>
            ${dashboardChecks}
            <div style="margin-top: 12px;">
              <a href="${getHelpLink('/guides/integration-overview')}" target="_blank" class="submit-btn help-btn" style="text-decoration: none; text-align: center; display: block;">ğŸ” ${getText('checkingDashboard')}</a>
            </div>
          </div>
        `, { delay: 400 });
      }

      await showVerificationGuide();
    }

    function updateDashboardCheckIcon(checkbox) {
      const icon = checkbox.parentElement.querySelector('.icon');
      icon.textContent = checkbox.checked ? 'âœ…' : 'â˜';
    }

    async function showVerificationGuide() {
      const isEn = state.language === 'en';
      await addBot(`
        <p>${getText('verificationTitle')}</p>
        <p style="font-size: 13px; color: #64748b;">${getText('verificationExplain')}</p>
        <div class="step-box">
          <h4>ğŸ“± ${getText('realtimeLogTitle')}</h4>
          <ol>
            <li>${getText('verifyStep1')}</li>
            <li>${getText('verifyStep2')}</li>
            <li>${getText('verifyStep3')}</li>
            <li>${getText('verifyStep4')}</li>
            <li>${getText('verifyStep5')}</li>
          </ol>
        </div>
        <div class="dashboard-guide" style="margin-top: 12px;">
          <h4>${getText('dashboardVerifyTitle')}</h4>
          <div class="path">${getText('dashboardVerifyPath')}</div>
          <p>${getText('dashboardVerifyDesc')}</p>
        </div>
        <div class="mock-ui">
          <div class="mock-ui-header">
            <div class="mock-ui-dot red"></div>
            <div class="mock-ui-dot yellow"></div>
            <div class="mock-ui-dot green"></div>
          </div>
          <div class="mock-ui-content">
            <div class="mock-ui-row"><span class="time">10:23:45</span> | <span class="event">Open</span> | Device: iPhone</div>
            <div class="mock-ui-row highlight"><span class="time">10:23:47</span> | <span class="event">Event</span> | <span class="category">sign_in</span></div>
          </div>
        </div>
        <div class="success-box">${getText('verifySuccess')}</div>
        <div class="warning-box">${getText('verifyDelay')}</div>
      `, { delay: 600 });

      let checklistItems = `
        <label class="checklist-item">
          <input type="checkbox" class="verify-check" onchange="updateFinalVerifyButton()">
          <span class="icon">â˜</span>
          <span class="content">${isEn ? 'SDK installed correctly' : 'SDK ì„¤ì¹˜ ì™„ë£Œ'}</span>
        </label>
        <label class="checklist-item">
          <input type="checkbox" class="verify-check" onchange="updateFinalVerifyButton()">
          <span class="icon">â˜</span>
          <span class="content">${isEn ? 'Open event received on app launch' : 'ì•± ì‹¤í–‰ ì‹œ Open ì´ë²¤íŠ¸ ìˆ˜ì‹ ë¨'}</span>
        </label>
        <label class="checklist-item">
          <input type="checkbox" class="verify-check" onchange="updateFinalVerifyButton()">
          <span class="icon">â˜</span>
          <span class="content">${isEn ? 'sign_in event received on login' : 'ë¡œê·¸ì¸ ì‹œ sign_in ì´ë²¤íŠ¸ ìˆ˜ì‹ ë¨'}</span>
        </label>`;
      if (state.needsRevenue) {
        checklistItems += `<label class="checklist-item"><input type="checkbox" class="verify-check" onchange="updateFinalVerifyButton()"><span class="icon">â˜</span><span class="content">${isEn ? 'order_completed event received on purchase' : 'êµ¬ë§¤ ì‹œ order_completed ì´ë²¤íŠ¸ ìˆ˜ì‹ ë¨'}</span></label>`;
      }
      if (state.needsUserIdentity) {
        checklistItems += `<label class="checklist-item"><input type="checkbox" class="verify-check" onchange="updateFinalVerifyButton()"><span class="icon">â˜</span><span class="content">${isEn ? 'User ID visible in event details' : 'ì´ë²¤íŠ¸ ìƒì„¸ì—ì„œ User ID í™•ì¸ë¨'}</span></label>`;
      }

      await addBot(`
        <div class="step-box" style="margin-top: 16px;">
          <h4>âœ… ${isEn ? 'Final Integration Checklist' : 'ìµœì¢… ì—°ë™ ì²´í¬ë¦¬ìŠ¤íŠ¸'}</h4>
          <div class="checklist" id="finalVerifyChecklist">${checklistItems}</div>
        </div>
        <div class="btn-row" style="margin-top: 12px;">
          <button class="submit-btn help-btn" onclick="showTroubleshooting()">ğŸ”§ ${getText('eventNotShowing')}</button>
          <button class="submit-btn" id="finalVerifyBtn" onclick="confirmFinalVerification()" disabled>${isEn ? 'ğŸ‰ Integration Complete!' : 'ğŸ‰ ì—°ë™ ì™„ë£Œ!'}</button>
        </div>
      `, { delay: 400 });
    }

    function updateFinalVerifyButton() {
      const container = document.getElementById('finalVerifyChecklist');
      const checkboxes = container.querySelectorAll('.verify-check');
      const allChecked = Array.from(checkboxes).every(cb => cb.checked);
      document.getElementById('finalVerifyBtn').disabled = !allChecked;
      checkboxes.forEach(cb => {
        const icon = cb.parentElement.querySelector('.icon');
        icon.textContent = cb.checked ? 'âœ…' : 'â˜';
      });
    }

    async function confirmFinalVerification() {
      addUser(state.language === 'en' ? 'Integration Complete!' : 'ì—°ë™ ì™„ë£Œ!');
      await showNextSteps();
    }

    async function showTroubleshooting() {
      addUser(getText('eventNotShowing'));
      await addBot(`
        <p>${getText('troubleshootTitle')}</p>
        <div class="checklist">
          <div class="checklist-item"><span class="icon">1ï¸âƒ£</span><span class="content">${getText('troubleshoot1')}</span></div>
          <div class="checklist-item"><span class="icon">2ï¸âƒ£</span><span class="content">${getText('troubleshoot2')}</span></div>
          <div class="checklist-item"><span class="icon">3ï¸âƒ£</span><span class="content">${getText('troubleshoot3')}</span></div>
          <div class="checklist-item"><span class="icon">4ï¸âƒ£</span><span class="content">${getText('troubleshoot4')}</span></div>
          <div class="checklist-item"><span class="icon">5ï¸âƒ£</span><span class="content">${getText('troubleshoot5')}</span></div>
        </div>
        <div style="margin-top: 12px;">
          <a href="${getHelpLink('/developers')}" target="_blank" class="submit-btn secondary" style="text-decoration: none; text-align: center; display: block;">ğŸ“š ${state.language === 'en' ? 'View Troubleshooting Guide' : 'ë¬¸ì œ í•´ê²° ê°€ì´ë“œ ë³´ê¸°'}</a>
        </div>
      `);
    }

    async function showNextSteps() {
      let nextStepsHTML = `<p>${getText('nextStepsTitle')}</p><div class="checklist">`;
      if (state.hasAds) {
        nextStepsHTML += `<div class="checklist-item pending"><span class="icon">ğŸ“¢</span><span class="content">${getText('channelIntegration')}</span></div>`;
      }
      if (state.hasIOS) {
        nextStepsHTML += `<div class="checklist-item pending"><span class="icon">ğŸ“Š</span><span class="content">${getText('skanSetup')}</span></div>`;
      }
      if (state.needsDeeplink) {
        nextStepsHTML += `<div class="checklist-item pending"><span class="icon">ğŸ”—</span><span class="content">${getText('deeplinkDomain')}</span></div>`;
      }
      nextStepsHTML += `<div class="checklist-item pending"><span class="icon">â³</span><span class="content">${getText('waitData')}</span></div></div>`;
      await addBot(nextStepsHTML);

      await addBot(`
        <div class="success-animation">
          <div class="success-icon">ğŸ‰</div>
          <h2 style="color: #4F46E5; margin-bottom: 8px;">${getText('congrats')}</h2>
          <p style="color: #64748b;">${getText('congratsSubtitle')}</p>
        </div>
        <div style="margin-top: 16px;">
          <a href="${getHelpLink()}" target="_blank" class="submit-btn" style="display: block; text-align: center; text-decoration: none;">${getText('helpCenter')}</a>
        </div>
      `);
    }

    // ========== INIT ==========
    startChat();
  </script>
</body>
</html>
